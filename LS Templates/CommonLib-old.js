var entryUUIDsList = new Array("E20071128023612","E20071128022851","E20071128021054","E20071128020321","E20071128015635","E20071128014933","E20071128014417","E20071128013304","E20071128011826","E20071128010009","E20071125232713","E20071125231634","E20071125231159","E20071125230804","E20071125221817","E20071125220414","E20071125215737","E20071118021945","E20071118021614","E20071118020714","E20071118015903","E20071118015327","E20071118013904","E20071118004438","E20071118003143","E20071118000342","E20071117233903","E20071117233544","E20071106023954","E20071106023342","E20071106022738","E20071106021907","E20071106021600","E20071106021108","E20071106020236","E20071106015447","E20071031022145","E20071031021754","E20071031021522","E20071031020544","E20071031020139","E20071031015912","E20071031015428","E20071031011521","E20071023205228","E20071023211413","E20071023211216","E20071023210417","E20071023202922","E20071023201402","E20071019030205","E20071019031241","E20071019031128","E20071019022939","E20071019020628","E20071017014600","E20071017014139","E20071017013627","E20071017012558","E20071017011700","E20071012023732","E20071012023339","E20071012022420","E20071012020743","E20071012020608","E20071008015050","E20071008011248","E20071008011509","E20071006134143","E20071006133252","E20071006130948","E20071006130506","E20071006125252","E20071001024917","E20071001024335","E20071001023747","E20071001023323","E20070928122908","E20070928123122","E20070928123638","E20070928121402","E20070928115605","E20070921021600","E20070921021438","E20070921021016","E20070921020504","E20070921020251","E20070916103112","E20070916103453","E20070916100702","E20070916094404","E20070916094023","E20070911004421","E20070911004114","E20070911003559","E20070907153626","E20070831000213","E20070830235511","E20070830233407","E20070830230841","E20070830230442","E20070828142121","E20070827221629","E20070827221348","E20070827221159","E20070827212936","E20070827210021","E20070827205209","E20070827203129","E20070827202708","E20070818071335","E20070817005859","E20070817005618","E20070817004553","E20070817004020","E20070814182547","E20070814182956","E20070814182108","E20070813102203","E20070812155612","E20070812041025","E20070812040656","E20070812040126","E20070812034745","E20070812034344","E20070812034141","E20070805151644","E20070803001724","E20070803003605","E20070802011315","E20070801010615","E20070801005925","E20070725185608","E20070725175528","E20070725174443","E20070725170931","E20070725161222","E20070725154604","E20070710155337","E20070702130014","E20070629140214","E20070629102835","E20070628002842","E20070628002238","E20070628001727","E20070628001132","E20070627235703","E20070627234925","E20070625003901","E20070625002701","E20070625002201","E20070625001653","E20070625000807","E20070621161222","E20070621160330","E20070621160056","E20070621155909","E20070620011156","E20070620010909","E20070620010340","E20070620005147","E20070606165644","E20070601225417","E20070529230715","E20070529225616","E20070529224631","E20070528163308","E20070523205118","E20070523204951","E20070523203835","E20070523202009","E20070523041043","E20070523040702","E20070521211705","E20070516012140","E20070516013229","E20070516011919","E20070516010716","E20070516010003","E20070516005529","E20070511114406","E20070510054836","E20070510054346","E20070510053339","E20070509100531","E20070509095643","E20070509095359","E20070509095021","E20070502154926","E20070502152112","E20070502151421","E20070502000412","E20070502000244","E20070429165609","E20070429165239","E20070429164616","E20070429164159","E20070429015219","E20070429014209","E20070429013827","E20070429013611","E20070429013400","E20070419002254","E20070419000949","E20070419000459","E20070416123445","E20070413132001","E20070413131339","E20070413131227","E20070413130513","E20070413125755","E20070413125429","E20070413124615","E20070410215911","E20070410214744","E20070410214602","E20070410213758","E20070402194035","E20070401185529","E20070112211407","E20061215220110","E20061212031856","E20061212025342","E20061212031307","E20061212031101","E20061212024638","E20061205215909","E20061204234344","E20061203235545","E20061130233430","E20061127155045","E20061121195515","E20061121195216","E20061120025517","E20061116013725","E20061116013231","E20061116012804","E20061113211356","E20061113205529","E20061113203241","E20061113202904","E20061109011753","E20061109011241","E20061109010825","E20061109010143","E20061109005534","E20061109005320","E20061107102228","E20061107101826","E20061104114406","E20061103081326","E20061103081134","E20061102220217","E20061102105331","E20061102105045","E20061102104544","E20061102104342","E20061102103900","E20061030012438","E20061027225004","E20061027224739","E20061027223344","E20061027222910","E20061024012626","E20061022215059","E20061021002318","E20061020235119","E20061018221811","E20061018221629","E20061018202824","E20061018211913","E20061018204114","E20061018203456","E20061018202303","E20061018201940","E20061018201404","E20061018200205","E20061018194238","E20061018194019","E20061018193411","E20061018192515","E20061011223343","E20061011222417","E20061011221431","E20061011032030","E20061011031756","E20061010102350","E20061010101805","E20061010101317","E20061004231749","E20061004231344","E20061004230359","E20060929041320","E20060926004931","E20060926004809","E20060925232054","E20060925233240","E20060925232537","E20060923012330","E20060923012032","E20060923011537","E20060920165031","E20060919233333","E20060919233233","E20060919231807","E20060917180502","E20060917174759","E20060917155638","E20060914181449","E20060914000349","E20060913235458","E20060913234509","E20060913232350","E20060913232034","E20060912031405","E20060911054831","E20060909050854","E20060906084306","E20060906011432","E20060906011003","E20060906010827","E20060901105357","E20060901104401","E20060901104038","E20060901103736","E20060901103420","E20060828223855","E20060828111603","E20060828111200","E20060826212242","E20060826042259","E20060824210512","E20060824210249","E20060824210004","E20060824014603","E20060822205153","E20060822125326","E20060821223710","E20060821223428","E20060821105345","E20060821022652");

function writeTenMostRecentEntryLinks() {
	var i, entryUUID, categoryUUID;
	for (i=0; i < 10; i++) {
		entryUUID = entryUUIDsList[i];
		categoryUUID = getCategoryUUIDForEntry(entryUUID);
		if (i != 10) {
			document.write('<iframe name="' + entryUUID + '" style="display: none;" src="' + categoryUUID + '/' + entryUUID + '/index.html"></iframe>');
		}
	}
	
	document.write('<iframe onload="getTenMostRecentEntryTitles();" name="' + entryUUID + '" style="display: none;" src="' + categoryUUID + '/' + entryUUID + '/index.html"></iframe>');
}

function getTenMostRecentEntryTitles() {
	var linked_list = '';
	var entryUUID;
	linked_list += '<ul>';
	for (i=0; i < 10; i++) {
		entryUUID = entryUUIDsList[i];
		linked_list += '<li><a href="' + window.frames[entryUUID].location.href + '">' + window.frames[entryUUID].document.getElementsByTagName('title')[0].innerHTML + '</a></li>';
	}
	linked_list += '</ul>';
	document.getElementById('recent_links').innerHTML = linked_list;
}

function getHaloscanJavascript() {
	var haloscanJavascript = '';
	document.write(haloscanJavascript);
}

function getCommentsCode(entryUUID) {
	var commentsCode = '';
	document.write(commentsCode);
}

function getAdsenseCode() {
	var adsenseCode = '';
	document.write(adsenseCode);
}

function getNextEntryLink(currentUUID) {   
	var i;
	var entryUUID;
	var categoryUUID;
	
    for(i = 0; i < entryUUIDsList.length -1; i++) {
        if(entryUUIDsList[i] == currentUUID) {
			entryUUID = entryUUIDsList[i+1];
			categoryUUID = getCategoryUUIDForEntry(entryUUID);
            document.write('<a href="../../' + categoryUUID + '/' + entryUUID + '/index.html">Older</a>');
			return;
        }
    }
	
	document.write('');
}

function getCurrentEntryLink(currentUUID) {
	var categoryUUID = getCategoryUUIDForEntry(currentUUID);
	document.write('<a href="' + categoryUUID + '/' + currentUUID + '/index.html">Permalink</a>');
}

function getPreviousEntryLink(currentUUID) {   
	var i;
	var entryUUID;
	var categoryUUID;
	
    for(i = 1; i < entryUUIDsList.length; i++) {
        if(entryUUIDsList[i] == currentUUID) {
			entryUUID = entryUUIDsList[i-1];
			categoryUUID = getCategoryUUIDForEntry(entryUUID);
            document.write('<a href="../../' + categoryUUID + '/' + entryUUID + '/index.html">Newer</a>');
			return;
        }
    }
	
	document.write('');
}

function getCategoryUUIDForEntry(entryUUID) {
    var entryCategoryUUIDPairs = new Array("E20071128023612","C1002828996","E20071128022851","C1002828996","E20071128021054","C740902098","E20071128020321","C417856420","E20071128015635","C417856420","E20071128014933","C740902098","E20071128014417","C417856420","E20071128013304","C417687336","E20071128011826","C417856420","E20071128010009","C1002828996","E20071125232713","C306271790","E20071125231634","C306271790","E20071125231159","C740902098","E20071125230804","C740902098","E20071125221817","C417687336","E20071125220414","C306271790","E20071125215737","C417687336","E20071118021945","C740902098","E20071118021614","C306271790","E20071118020714","C280258839","E20071118015903","C417856420","E20071118015327","C740902098","E20071118013904","C417687336","E20071118004438","C417687336","E20071118003143","C740902098","E20071118000342","C740902098","E20071117233903","C740902098","E20071117233544","C740902098","E20071106023954","C1002828996","E20071106023342","C306271790","E20071106022738","C740902098","E20071106021907","C740902098","E20071106021600","C740902098","E20071106021108","C740902098","E20071106020236","C280258839","E20071106015447","C1002828996","E20071031022145","C306271790","E20071031021754","C740902098","E20071031021522","C740902098","E20071031020544","C740902098","E20071031020139","C740902098","E20071031015912","C740902098","E20071031015428","C740902098","E20071031011521","C740902098","E20071023205228","C306271790","E20071023211413","C373145902","E20071023211216","C306271790","E20071023210417","C280258839","E20071023202922","C1002828996","E20071023201402","C306271790","E20071019030205","C306271790","E20071019031241","C280258839","E20071019031128","C373145902","E20071019022939","C740902098","E20071019020628","C740902098","E20071017014600","C1002828996","E20071017014139","C417856420","E20071017013627","C740902098","E20071017012558","C740902098","E20071017011700","C740902098","E20071012023732","C280258839","E20071012023339","C373145902","E20071012022420","C740902098","E20071012020743","C740902098","E20071012020608","C740902098","E20071008015050","C373145902","E20071008011248","C740902098","E20071008011509","C740902098","E20071006134143","C417687336","E20071006133252","C1002828996","E20071006130948","C740902098","E20071006130506","C740902098","E20071006125252","C740902098","E20071001024917","C1002828996","E20071001024335","C373145902","E20071001023747","C740902098","E20071001023323","C417687336","E20070928122908","C306271790","E20070928123122","C417687336","E20070928123638","C1002828996","E20070928121402","C740902098","E20070928115605","C740902098","E20070921021600","C1002828996","E20070921021438","C417687336","E20070921021016","C306271790","E20070921020504","C740902098","E20070921020251","C280258839","E20070916103112","C306271790","E20070916103453","C740902098","E20070916100702","C417687336","E20070916094404","C280258839","E20070916094023","C417687336","E20070911004421","C740902098","E20070911004114","C740902098","E20070911003559","C740902098","E20070907153626","C373145902","E20070831000213","C280258839","E20070830235511","C306271790","E20070830233407","C740902098","E20070830230841","C740902098","E20070830230442","C740902098","E20070828142121","C740902098","E20070827221629","C1002828996","E20070827221348","C280258839","E20070827221159","C280258839","E20070827212936","C417687336","E20070827210021","C740902098","E20070827205209","C740902098","E20070827203129","C417687336","E20070827202708","C280258839","E20070818071335","C417856420","E20070817005859","C306271790","E20070817005618","C373145902","E20070817004553","C417687336","E20070817004020","C740902098","E20070814182547","C740902098","E20070814182956","C740902098","E20070814182108","C306271790","E20070813102203","C740902098","E20070812155612","C417687336","E20070812041025","C1002828996","E20070812040656","C1002828996","E20070812040126","C740902098","E20070812034745","C280258839","E20070812034344","C280258839","E20070812034141","C740902098","E20070805151644","C740902098","E20070803001724","C1002828996","E20070803003605","C280258839","E20070802011315","C280258839","E20070801010615","C740902098","E20070801005925","C740902098","E20070725185608","C1002828996","E20070725175528","C306271790","E20070725174443","C280258839","E20070725170931","C417687336","E20070725161222","C740902098","E20070725154604","C740902098","E20070710155337","C740902098","E20070702130014","C373145902","E20070629140214","C740902098","E20070629102835","C740902098","E20070628002842","C417687336","E20070628002238","C1002828996","E20070628001727","C417687336","E20070628001132","C740902098","E20070627235703","C740902098","E20070627234925","C740902098","E20070625003901","C417687336","E20070625002701","C740902098","E20070625002201","C373145902","E20070625001653","C740902098","E20070625000807","C740902098","E20070621161222","C740902098","E20070621160330","C1002828996","E20070621160056","C280258839","E20070621155909","C1002828996","E20070620011156","C280258839","E20070620010909","C1002828996","E20070620010340","C306271790","E20070620005147","C740902098","E20070606165644","C417856420","E20070601225417","C280258839","E20070529230715","C740902098","E20070529225616","C280258839","E20070529224631","C740902098","E20070528163308","C306271790","E20070523205118","C280258839","E20070523204951","C740902098","E20070523203835","C417687336","E20070523202009","C417856420","E20070523041043","C280258839","E20070523040702","C373145902","E20070521211705","C373145902","E20070516012140","C1002828996","E20070516013229","C373145902","E20070516011919","C280258839","E20070516010716","C417687336","E20070516010003","C740902098","E20070516005529","C1002828996","E20070511114406","C417856420","E20070510054836","C1002828996","E20070510054346","C740902098","E20070510053339","C740902098","E20070509100531","C740902098","E20070509095643","C740902098","E20070509095359","C740902098","E20070509095021","C740902098","E20070502154926","C740902098","E20070502152112","C740902098","E20070502151421","C740902098","E20070502000412","C417856420","E20070502000244","C740902098","E20070429165609","C373145902","E20070429165239","C740902098","E20070429164616","C740902098","E20070429164159","C1002828996","E20070429015219","C306271790","E20070429014209","C306271790","E20070429013827","C306271790","E20070429013611","C740902098","E20070429013400","C740902098","E20070419002254","C740902098","E20070419000949","C740902098","E20070419000459","C740902098","E20070416123445","C740902098","E20070413132001","C417856420","E20070413131339","C740902098","E20070413131227","C740902098","E20070413130513","C1002828996","E20070413125755","C1002828996","E20070413125429","C740902098","E20070413124615","C740902098","E20070410215911","C740902098","E20070410214744","C740902098","E20070410214602","C740902098","E20070410213758","C1002828996","E20070402194035","C740902098","E20070401185529","C740902098","E20070112211407","C740902098","E20061215220110","C740902098","E20061212031856","C306271790","E20061212025342","C1002828996","E20061212031307","C740902098","E20061212031101","C740902098","E20061212024638","C306271790","E20061205215909","C1002828996","E20061204234344","C417856420","E20061203235545","C417856420","E20061130233430","C373145902","E20061127155045","C417856420","E20061121195515","C1002828996","E20061121195216","C740902098","E20061120025517","C740902098","E20061116013725","C1002828996","E20061116013231","C740902098","E20061116012804","C740902098","E20061113211356","C740902098","E20061113205529","C740902098","E20061113203241","C740902098","E20061113202904","C740902098","E20061109011753","C1002828996","E20061109011241","C740902098","E20061109010825","C306271790","E20061109010143","C306271790","E20061109005534","C417856420","E20061109005320","C740902098","E20061107102228","C306271790","E20061107101826","C740902098","E20061104114406","C306271790","E20061103081326","C740902098","E20061103081134","C740902098","E20061102220217","C740902098","E20061102105331","C740902098","E20061102105045","C740902098","E20061102104544","C740902098","E20061102104342","C306271790","E20061102103900","C417856420","E20061030012438","C740902098","E20061027225004","C740902098","E20061027224739","C740902098","E20061027223344","C740902098","E20061027222910","C740902098","E20061024012626","C740902098","E20061022215059","C417856420","E20061021002318","C740902098","E20061020235119","C1002828996","E20061018221811","C740902098","E20061018221629","C417856420","E20061018202824","C1002828996","E20061018211913","C740902098","E20061018204114","C306271790","E20061018203456","C306271790","E20061018202303","C417856420","E20061018201940","C740902098","E20061018201404","C417856420","E20061018200205","C417856420","E20061018194238","C740902098","E20061018194019","C740902098","E20061018193411","C740902098","E20061018192515","C740902098","E20061011223343","C740902098","E20061011222417","C740902098","E20061011221431","C740902098","E20061011032030","C417856420","E20061011031756","C417856420","E20061010102350","C740902098","E20061010101805","C740902098","E20061010101317","C740902098","E20061004231749","C1002828996","E20061004231344","C306271790","E20061004230359","C740902098","E20060929041320","C373145902","E20060926004931","C1002828996","E20060926004809","C1002828996","E20060925232054","C417856420","E20060925233240","C740902098","E20060925232537","C740902098","E20060923012330","C740902098","E20060923012032","C740902098","E20060923011537","C740902098","E20060920165031","C306271790","E20060919233333","C893536046","E20060919233233","C893536046","E20060919231807","C893536046","E20060917180502","C893536046","E20060917174759","C893536046","E20060917155638","C893536046","E20060914181449","C893536046","E20060914000349","C893536046","E20060913235458","C893536046","E20060913234509","C893536046","E20060913232350","C893536046","E20060913232034","C893536046","E20060912031405","C893536046","E20060911054831","C893536046","E20060909050854","C893536046","E20060906084306","C893536046","E20060906011432","C893536046","E20060906011003","C893536046","E20060906010827","C893536046","E20060901105357","C893536046","E20060901104401","C893536046","E20060901104038","C893536046","E20060901103736","C893536046","E20060901103420","C893536046","E20060828223855","C893536046","E20060828111603","C893536046","E20060828111200","C893536046","E20060826212242","C893536046","E20060826042259","C893536046","E20060824210512","C893536046","E20060824210249","C893536046","E20060824210004","C893536046","E20060824014603","C893536046","E20060822205153","C893536046","E20060822125326","C893536046","E20060821223710","C893536046","E20060821223428","C893536046","E20060821105345","C893536046","E20060821022652","C893536046");
    
    for(var i = 0; i < entryCategoryUUIDPairs.length -1; i++) {
        if(entryCategoryUUIDPairs[i] == entryUUID) {
            return(entryCategoryUUIDPairs[i+1]);
        }
    }
}

function getBlogName() {
    var blogName = 'Linkable Supernova';
    document.write(blogName);
}

function getCategoryName(categoryUUID) {
    var categoryPairs = new Array("C280258839","Humor","C306271790","Politics","C417856420","Videos","C893536046","unfiled","C373145902","Games","C740902098","Technology","C417687336","Science!","C1002828996","Just Interesting");
    
    for(var i = 0; i < categoryPairs.length -1; i++) {
        if(categoryPairs[i] == categoryUUID) {
            document.write(categoryPairs[i+1]);
        }
    }
}

function getCalendarHead() {
    var calendarHead = 'novembre 2007';
    document.write(calendarHead);
}

function getBlogCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">1</span></td><td align="center"><span class="calendar">2</span></td><td align="center"><span class="calendar">3</span></td></tr> <tr><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar"><a href="2007/11/6/index.html">6</a></span></td><td align="center"><span class="calendar">7</span></td><td align="center"><span class="calendar">8</span></td><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar">10</span></td></tr> <tr><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar"><a href="2007/11/17/index.html">17</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="2007/11/18/index.html">18</a></span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td></tr> <tr><td align="center"><span class="calendar"><a href="2007/11/25/index.html">25</a></span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar"><a href="2007/11/28/index.html">28</a></span></td><td align="center"><span class="calendar">29</span></td><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr> <tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getCategoryCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">1</span></td><td align="center"><span class="calendar">2</span></td><td align="center"><span class="calendar">3</span></td></tr> <tr><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar"><a href="../2007/11/6/index.html">6</a></span></td><td align="center"><span class="calendar">7</span></td><td align="center"><span class="calendar">8</span></td><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar">10</span></td></tr> <tr><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar"><a href="../2007/11/17/index.html">17</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="../2007/11/18/index.html">18</a></span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td></tr> <tr><td align="center"><span class="calendar"><a href="../2007/11/25/index.html">25</a></span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar"><a href="../2007/11/28/index.html">28</a></span></td><td align="center"><span class="calendar">29</span></td><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr> <tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getEntryCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">1</span></td><td align="center"><span class="calendar">2</span></td><td align="center"><span class="calendar">3</span></td></tr> <tr><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar"><a href="../../2007/11/6/index.html">6</a></span></td><td align="center"><span class="calendar">7</span></td><td align="center"><span class="calendar">8</span></td><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar">10</span></td></tr> <tr><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar"><a href="../../2007/11/17/index.html">17</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="../../2007/11/18/index.html">18</a></span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td></tr> <tr><td align="center"><span class="calendar"><a href="../../2007/11/25/index.html">25</a></span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar"><a href="../../2007/11/28/index.html">28</a></span></td><td align="center"><span class="calendar">29</span></td><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr> <tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getArchiveCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">1</span></td><td align="center"><span class="calendar">2</span></td><td align="center"><span class="calendar">3</span></td></tr> <tr><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar"><a href="2007/11/6/index.html">6</a></span></td><td align="center"><span class="calendar">7</span></td><td align="center"><span class="calendar">8</span></td><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar">10</span></td></tr> <tr><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar"><a href="2007/11/17/index.html">17</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="2007/11/18/index.html">18</a></span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td></tr> <tr><td align="center"><span class="calendar"><a href="2007/11/25/index.html">25</a></span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar"><a href="2007/11/28/index.html">28</a></span></td><td align="center"><span class="calendar">29</span></td><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr> <tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getYearCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">1</span></td><td align="center"><span class="calendar">2</span></td><td align="center"><span class="calendar">3</span></td></tr> <tr><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar"><a href="11/6/index.html">6</a></span></td><td align="center"><span class="calendar">7</span></td><td align="center"><span class="calendar">8</span></td><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar">10</span></td></tr> <tr><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar"><a href="11/17/index.html">17</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="11/18/index.html">18</a></span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td></tr> <tr><td align="center"><span class="calendar"><a href="11/25/index.html">25</a></span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar"><a href="11/28/index.html">28</a></span></td><td align="center"><span class="calendar">29</span></td><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr> <tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getDayCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">1</span></td><td align="center"><span class="calendar">2</span></td><td align="center"><span class="calendar">3</span></td></tr> <tr><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar"><a href="../../../2007/11/6/index.html">6</a></span></td><td align="center"><span class="calendar">7</span></td><td align="center"><span class="calendar">8</span></td><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar">10</span></td></tr> <tr><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar"><a href="../../../2007/11/17/index.html">17</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="../../../2007/11/18/index.html">18</a></span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td></tr> <tr><td align="center"><span class="calendar"><a href="../../../2007/11/25/index.html">25</a></span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar"><a href="../../../2007/11/28/index.html">28</a></span></td><td align="center"><span class="calendar">29</span></td><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr> <tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getBlogEntriesCount() {
    var blogEntriesCount = '341';
    document.write(blogEntriesCount);
}

function getCategoryStatistics() {
    var categoryStatistics = 'Games: 15 <br />Humor: 23 <br />Just Interesting: 37 <br />Politics: 33 <br />Science!: 21 <br />Technology: 148 <br />Videos: 25 <br />';
    document.write(categoryStatistics);
}

function getCategoryEntriesCount(categoryUUID) {
    var categoryPairs = new Array("C280258839","23","C306271790","33","C417856420","25","C893536046","39","C373145902","15","C740902098","148","C417687336","21","C1002828996","37");
    
    for(var i = 0; i < categoryPairs.length; i++) {
        if(categoryPairs[i] == categoryUUID) {
            document.write(categoryPairs[i+1]);
        }
    }
}

function getBlogCategories() {
    var categories = ' <a href="C373145902/index.html"> Games </a> <br />  <a href="C280258839/index.html"> Humor </a> <br />  <a href="C1002828996/index.html"> Just Interesting </a> <br />  <a href="C306271790/index.html"> Politics </a> <br />  <a href="C417687336/index.html"> Science! </a> <br />  <a href="C740902098/index.html"> Technology </a> <br />  <a href="C417856420/index.html"> Videos </a> <br /> ';
    document.write(categories); 
}

function getBlogHorizontalCategories() {
    var horizontalCategories = ' <a href="C373145902/index.html"> Games </a> &nbsp; &nbsp;  <a href="C280258839/index.html"> Humor </a> &nbsp; &nbsp;  <a href="C1002828996/index.html"> Just Interesting </a> &nbsp; &nbsp;  <a href="C306271790/index.html"> Politics </a> &nbsp; &nbsp;  <a href="C417687336/index.html"> Science! </a> &nbsp; &nbsp;  <a href="C740902098/index.html"> Technology </a> &nbsp; &nbsp;  <a href="C417856420/index.html"> Videos </a> &nbsp; &nbsp; ';
    document.write(horizontalCategories);
}

function getCategoryCategories() {
    var categories = ' <a href="../C373145902/index.html"> Games </a> <br />  <a href="../C280258839/index.html"> Humor </a> <br />  <a href="../C1002828996/index.html"> Just Interesting </a> <br />  <a href="../C306271790/index.html"> Politics </a> <br />  <a href="../C417687336/index.html"> Science! </a> <br />  <a href="../C740902098/index.html"> Technology </a> <br />  <a href="../C417856420/index.html"> Videos </a> <br /> ';
    document.write(categories); 
}

function getCategoryHorizontalCategories() {
    var horizontalCategories = ' <a href="../C373145902/index.html"> Games </a> &nbsp; &nbsp;  <a href="../C280258839/index.html"> Humor </a> &nbsp; &nbsp;  <a href="../C1002828996/index.html"> Just Interesting </a> &nbsp; &nbsp;  <a href="../C306271790/index.html"> Politics </a> &nbsp; &nbsp;  <a href="../C417687336/index.html"> Science! </a> &nbsp; &nbsp;  <a href="../C740902098/index.html"> Technology </a> &nbsp; &nbsp;  <a href="../C417856420/index.html"> Videos </a> &nbsp; &nbsp; ';
    document.write(horizontalCategories);
}

function getEntryCategories() {
    var categories = ' <a href="../../C373145902/index.html"> Games </a> <br />  <a href="../../C280258839/index.html"> Humor </a> <br />  <a href="../../C1002828996/index.html"> Just Interesting </a> <br />  <a href="../../C306271790/index.html"> Politics </a> <br />  <a href="../../C417687336/index.html"> Science! </a> <br />  <a href="../../C740902098/index.html"> Technology </a> <br />  <a href="../../C417856420/index.html"> Videos </a> <br /> ';
    document.write(categories); 
}

function getEntryHorizontalCategories() {
    var horizontalCategories = ' <a href="../../C373145902/index.html"> Games </a> &nbsp; &nbsp;  <a href="../../C280258839/index.html"> Humor </a> &nbsp; &nbsp;  <a href="../../C1002828996/index.html"> Just Interesting </a> &nbsp; &nbsp;  <a href="../../C306271790/index.html"> Politics </a> &nbsp; &nbsp;  <a href="../../C417687336/index.html"> Science! </a> &nbsp; &nbsp;  <a href="../../C740902098/index.html"> Technology </a> &nbsp; &nbsp;  <a href="../../C417856420/index.html"> Videos </a> &nbsp; &nbsp; ';
    document.write(horizontalCategories);
}

function getArchiveCategories() {
    var categories = '<a href="C373145902/index.html">Games</a> <br /><a href="C280258839/index.html">Humor</a> <br /><a href="C1002828996/index.html">Just Interesting</a> <br /><a href="C306271790/index.html">Politics</a> <br /><a href="C417687336/index.html">Science!</a> <br /><a href="C740902098/index.html">Technology</a> <br /><a href="C417856420/index.html">Videos</a> <br />';
    document.write(categories); 
}

function getArchiveHorizontalCategories() {
    var horizontalCategories = '<a href="C373145902/index.html">Games</a> &nbsp; &nbsp;<a href="C280258839/index.html">Humor</a> &nbsp; &nbsp;<a href="C1002828996/index.html">Just Interesting</a> &nbsp; &nbsp;<a href="C306271790/index.html">Politics</a> &nbsp; &nbsp;<a href="C417687336/index.html">Science!</a> &nbsp; &nbsp;<a href="C740902098/index.html">Technology</a> &nbsp; &nbsp;<a href="C417856420/index.html">Videos</a> &nbsp; &nbsp;';
    document.write(horizontalCategories);
}

function getYearCategories() {
    var categories = '<a href="../C373145902/index.html">Games</a> <br /><a href="../C280258839/index.html">Humor</a> <br /><a href="../C1002828996/index.html">Just Interesting</a> <br /><a href="../C306271790/index.html">Politics</a> <br /><a href="../C417687336/index.html">Science!</a> <br /><a href="../C740902098/index.html">Technology</a> <br /><a href="../C417856420/index.html">Videos</a> <br />';
    document.write(categories); 
}

function getYearHorizontalCategories() {
    var horizontalCategories = '<a href="../C373145902/index.html">Games</a> &nbsp; &nbsp;<a href="../C280258839/index.html">Humor</a> &nbsp; &nbsp;<a href="../C1002828996/index.html">Just Interesting</a> &nbsp; &nbsp;<a href="../C306271790/index.html">Politics</a> &nbsp; &nbsp;<a href="../C417687336/index.html">Science!</a> &nbsp; &nbsp;<a href="../C740902098/index.html">Technology</a> &nbsp; &nbsp;<a href="../C417856420/index.html">Videos</a> &nbsp; &nbsp;';
    document.write(horizontalCategories);
}

function getDayCategories() {
    var categories = '<a href="../../../C373145902/index.html">Games</a> <br /><a href="../../../C280258839/index.html">Humor</a> <br /><a href="../../../C1002828996/index.html">Just Interesting</a> <br /><a href="../../../C306271790/index.html">Politics</a> <br /><a href="../../../C417687336/index.html">Science!</a> <br /><a href="../../../C740902098/index.html">Technology</a> <br /><a href="../../../C417856420/index.html">Videos</a> <br />';
    document.write(categories); 
}

function getDayHorizontalCategories() {
    var horizontalCategories = '<a href="../../../C373145902/index.html">Games</a> &nbsp; &nbsp;<a href="../../../C280258839/index.html">Humor</a> &nbsp; &nbsp;<a href="../../../C1002828996/index.html">Just Interesting</a> &nbsp; &nbsp;<a href="../../../C306271790/index.html">Politics</a> &nbsp; &nbsp;<a href="../../../C417687336/index.html">Science!</a> &nbsp; &nbsp;<a href="../../../C740902098/index.html">Technology</a> &nbsp; &nbsp;<a href="../../../C417856420/index.html">Videos</a> &nbsp; &nbsp;';
    document.write(horizontalCategories);
}

function getUsername() {
    var username = 'Simone Manganelli';
    document.write(username);
}

function getFeedbackLink(entryTitle) {
    var encodedEmail = '&#115;&#105;&#109;&#120;&#064;&#109;&#097;&#099;&#046;&#099;&#111;&#109;';
    
    if(encodedEmail.length > 0) {
        document.write("<a href=\"mailto:" + encodedEmail + "?Subject=Re: " + entryTitle + "\"> Feedback </a> &nbsp;");
    } else {
        document.write("");
    }
}

function writeStyleSheetLinks() {
 if ('Linkable Supernova' == 'Technological Supernova') {
    document.write('<link rel="stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-right-nav.css" title="Red Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-left-nav.css" title="Red Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-right-nav.css" title="Blue Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-left-nav.css" title="Blue Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-right-nav.css" title="Green Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-left-nav.css" title="Green Left Nav" />\n');
  } else if ('Linkable Supernova' == 'Linkable Supernova') {
    document.write('<link rel="stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-right-nav.css" title="Green Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-left-nav.css" title="Green Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-right-nav.css" title="Red Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-left-nav.css" title="Red Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-right-nav.css" title="Blue Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-left-nav.css" title="Blue Left Nav" />\n');
  } else {
    document.write('<link rel="stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-right-nav.css" title="Blue Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-left-nav.css" title="Blue Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-right-nav.css" title="Red Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-left-nav.css" title="Red Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-right-nav.css" title="Green Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-left-nav.css" title="Green Left Nav" />\n');
  }
  document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/halloween-right-nav.css" title="Halloween" />\n');
}

function writeStyleSheetButtonLinks() {
 if ('Linkable Supernova' == 'Technological Supernova') {
document.write('<div class="stylesheet_buttons">\n<a href="#" onclick="setActiveStyleSheet(\'Red Right Nav\'); return false;"><img class="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/red-right.png" alt="Red Right Nav" /></a><a href="#" onclick="setActiveStyleSheet(\'Red Left Nav\'); return false;"><img class ="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/red-left.png" alt="Red Left Nav" /></a>\n</div>');
  } else if ('Linkable Supernova' == 'Linkable Supernova') {
document.write('<div class="stylesheet_buttons">\n<a href="#" onclick="setActiveStyleSheet(\'Green Right Nav\'); return false;"><img class="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/green-right.png" alt="Green Right Nav" /></a><a href="#" onclick="setActiveStyleSheet(\'Green Left Nav\'); return false;"><img class ="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/green-left.png" alt="Green Left Nav" /></a>\n</div>');
  } else {
document.write('<div class="stylesheet_buttons">\n<a href="#" onclick="setActiveStyleSheet(\'Blue Right Nav\'); return false;"><img class="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/blue-right.png" alt="Blue Right Nav" /></a><a href="#" onclick="setActiveStyleSheet(\'Blue Left Nav\'); return false;"><img class ="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/blue-left.png" alt="Blue Left Nav" /></a>\n</div>');
}
}

function removeSpaces(aString) {
 var modifiedString = aString.replace(/ /gi,'');
 return modifiedString;
}


// the following functions were created by Paul Sowden
// 
// you can access the full tutorial on JavaScript stylesheet
// switching at http://www.alistapart.com/stories/alternate/
//
// Yay standards!
//
// Modified on 2006-05-05 to accomodate two pages with the
// same JavaScript file (onload and onunload modified)

function setActiveStyleSheet(title) {
  var i, a, main;
  for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
    if(a.getAttribute("rel").indexOf("style") != -1 && a.getAttribute("title")) {
      a.disabled = true;
      if(a.getAttribute("title") == title) a.disabled = false;
    }
  }
}

function getActiveStyleSheet() {
  var i, a;
  for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
    if(a.getAttribute("rel").indexOf("style") != -1 && a.getAttribute("title") && !a.disabled) return a.getAttribute("title");
  }
  return null;
}

function getPreferredStyleSheet() {
  var i, a;
  for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
    if(a.getAttribute("rel").indexOf("style") != -1
       && a.getAttribute("rel").indexOf("alt") == -1
       && a.getAttribute("title")
       ) return a.getAttribute("title");
  }
  return null;
}

function createCookie(name,value,days) {
  if (days) {
    var date = new Date();
    date.setTime(date.getTime()+(days*24*60*60*1000));
    var expires = "; expires="+date.toGMTString();
  }
  else expires = "";
  document.cookie = name+"="+value+expires+"; path=/";
}

function readCookie(name) {
  var nameEQ = name + "=";
  var ca = document.cookie.split(';');
  for(var i=0;i < ca.length;i++) {
    var c = ca[i];
    while (c.charAt(0)==' ') c = c.substring(1,c.length);
    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
  }
  return null;
}

function writeiTunesWidgetCookie(enabledString) {
 createCookie('myiTunesWidgets',enabledString,365);
}

function enableiTunesWidgets() {
 var widgetDiv = document.getElementById('myiTunesWidgets');
 widgetDiv.style.display = 'inline';
 writeiTunesWidgetCookie('enabled');
 
 var enableButtonDiv = document.getElementById('enableiTunesWidgetsButtonDiv');
 enableButtonDiv.style.display = 'none';
 
 var disableButtonDiv = document.getElementById('disableiTunesWidgetsButtonDiv');
 disableButtonDiv.style.display = 'inline';
}

function disableiTunesWidgets() {
 var widgetDiv = document.getElementById('myiTunesWidgets');
 widgetDiv.style.display = 'none';
 writeiTunesWidgetCookie('disabled');
 
 var enableButtonDiv = document.getElementById('enableiTunesWidgetsButtonDiv');
 enableButtonDiv.style.display = 'inline';
 
 var disableButtonDiv = document.getElementById('disableiTunesWidgetsButtonDiv');
 disableButtonDiv.style.display = 'none';
}

window.onload = function(e) {
  var cookie;
  var curdate = new Date();
  var month = curdate.getMonth();
  var date = curdate.getDate();
  if ((month == 9) && (date == 31)) {
setActiveStyleSheet('Halloween');
} else {
  if (('Linkable Supernova' == 'Supernova Emotivo') || ('Linkable Supernova' == 'Emotional Supernova')) {
    cookie = readCookie('Stylish Emotions');
  } else if ('Linkable Supernova' == 'Technological Supernova') {
    cookie = readCookie('Stylish Technology');
  } else if ('Linkable Supernova' == 'Linkable Supernova') {
    cookie = readCookie('Stylish Links');
  }
  var title = cookie ? cookie : getPreferredStyleSheet();
  setActiveStyleSheet(title);
}
}

window.onunload = function(e) {
  var title = getActiveStyleSheet();
 if (title != 'Halloween') {
  if (('Linkable Supernova' == 'Supernova Emotivo') || ('Linkable Supernova' == 'Emotional Supernova')) {
   createCookie('Stylish Emotions', title, 365);
  } else if ('Linkable Supernova' == 'Technological Supernova') {
   createCookie('Stylish Technology', title, 365);
  } else if ('Linkable Supernova' == 'Linkable Supernova') {
   createCookie('Stylish Links', title, 365);
  }
 }
}

var cookie = readCookie("style");var title = cookie ? cookie : getPreferredStyleSheet();setActiveStyleSheet(title);


// the following are for .mac comments

function onPageLoad()
{
    evalAndIgnoreException('initComments();');
    evalAndIgnoreException('commentLayerLinkAssist();');
    return true;
}

function evalAndIgnoreException(s)
{
  try
  {
    eval(s);
  }
  catch (e)
  {
  }
}

function commentLayerLinkAssist()
{
    if (location.hash == '#comment_layer')
    {
        var node = document.getElementById('comment_layer');
        if (node)
        {
            var offsetY = node.offsetTop;
            while (node.offsetParent != null)
            {
                node = node.offsetParent;
                offsetY = offsetY + node.offsetTop;
            }
            window.scrollTo(0, offsetY - 53); // -53 because of the top banner
        }
    }
}


var time = new Date().getTime();

// Aliases
function initCommentSummary()
{
	initSummaryComments();
}

function insertCommentCountStrings()
{
	initSummaryComments();
}

function initSummaryComments() 
{
	setLocale();
	var commentCount;
	for (var entry in entryURLs) {
		if (entryURLs[entry].comments || entryURLs[entry].count > 0) {
			commentCount = document.getElementById('comments_' + entryURLs[entry].order);
			if (commentCount !== null) {
				commentCount.innerHTML = commentCountString(entryURLs[entry].count);
			} 
			commentCount = null;
		} 
	}
}

function oogity()
{
alert('yes, thats right, oogity!');
}

function OMGWTFBBQITISTOOLATETOWRITEJAVASCRIPT(url)
{
	var location_array;
	if (typeof(fakeURLPathname) == "undefined") {
		location_array = location.pathname.split('/');
	} else {
		location_array = fakeURLPathname.split('/');
	}
	var amended_location_string = '';
	var i = 0;
	var count = location_array.length;
	for (i = 0; i < (count-1); i++) {
		if (location_array[i] != '') amended_location_string = amended_location_string + location_array[i] + '/';
	}
	document.write('<script src="' + 'http://web.mac.com/' + amended_location_string + url + '?wsc=summary.js&ts=' + time + '" type="text/javascript"></script>');
}

function initPersonWhoHasNoNameComments(url) 
{
	setLocale();
	var commentCount;

	var location_array = url.split('/');
	var count = location_array.length;
	if (entryURLs[location_array[count-1]].comments) {
		if (commentCount !== null) {
				document.write('<a href="' + url + '#comments">' + commentCountString(entryURLs[location_array[count-1]].count) + '</a>');
		} 
		commentCount = null;
	}
}





// comments.js

/* Copyright (c) 2006 by Apple Computer, Inc.  All Rights Reserved. */

var commentJavascriptVersion = "$Revision: 1.39 $";
var commentWindow;

// global strings
var commentsAppURL = 'http://www.mac.com/WebObjects/Comments.woa/wa/comment';
var manageCommentsAppURL = 'http://www.mac.com/WebObjects/Comments.woa/wa/manage';
var windowRules = 'menubar=no,resizable=no,height=580,width=435';
var commentsURL;
if (typeof(fakeURLPathname)=="undefined") {
	commentsURL = 'http://web.mac.com' + location.pathname + '?wsc=entry.js&ts=' + new Date().getTime();
} else {
	commentsURL = 'http://web.mac.com' + fakeURLPathname + '?wsc=entry.js&ts=' + new Date().getTime();
}

function data(o)
{
	// there are comments
	comments.read = true;
	comments.update(o);
}

// Load localization
document.write('<script src="http://www.mac.com/1/up/comments/scripts/loc.js" type="text/javascript" charset="utf-8"></script>');

// Load utility objects
document.write('<script src="http://www.mac.com/1/up/comments/scripts/utility.js" type="text/javascript" charset="utf-8"></script>');

// Called from the window.onload method
function initComments()
{
	browser.detect();
	setLocale();
	decorations.init();
	if (commentsActivated) {
		comments.fetch();
	} 
	else {
		decorations.hide('comment_layer'); // commenting never turned on
	}
}

var comments = {

	read: false,
	count: 0,
	canComment: false,
	hasComments: false,
	itemOrder: ['authorblock','dateblock','commenttext','attachments','separator'],
	view : 0,
	
	// fetch comments from iDisk
	fetch: function()
	{
		var c = comments;
		
		// Find and remove JSON loading script element
		var JSONScript = document.getElementById('view_' + c.view);
		var head = document.getElementsByTagName('head')[0];
		if (JSONScript !== null) {
			head.removeChild(JSONScript);
			c.view = c.view + 1;
		}
		
		JSONScript = document.createElement('script');
		
		// Create new JSON script element, new script element will call comments.update()
		JSONScript.setAttribute('id','view_' + c.view);
		if (typeof(fakeURLPathname) == "undefined") {
			JSONScript.setAttribute('src','http://web.mac.com' + location.pathname + '?wsc=entry.js&ts=' + new Date().getTime());
		} else {
			JSONScript.setAttribute('src','http://web.mac.com' + fakeURLPathname + '?wsc=entry.js&ts=' + new Date().getTime());
		}
		JSONScript.setAttribute('type','text/javascript');
		JSONScript.setAttribute('charset','utf-8');
		head.appendChild(JSONScript);
	},
	
	// Callback from JSON result
	update: function(JSONResult)
	{
		var c = comments;
		
		// Update Flags and Counts
	
		// canComment
		if (JSONResult.commentsEnabled == 'true') {
			c.canComment = true;
		} 
		else {
			c.canComment = false;
		}		
		
		// hasComments
		if (JSONResult.items !== null && JSONResult.items.length > 0) {
			c.hasComments = true;
		}
		else {
			c.hasComments = false;
		}
		
		// count
		if (JSONResult.items !== null) {
			c.count = JSONResult.items.length;
		}
		else {
			c.count = 0;
		}
		
		if (!c.canComment && c.count == 0) {
			decorations.hide('comment_layer'); // entries w/o comments created when the blog allowed commenting
		}	
		else if (c.count > 0) {
			c.load(JSONResult.items);
			if (!c.canComment) {
				decorations.hide('comment_footer'); // entries w/comments while the blog allowed commenting
			}
		}
		else {
			decorations.hide('comment_title'); // entry w/o comments, but blog allows commenting
		}
		
		// update page decorations
		decorations.update_count();
		decorations.update_manage_comments();
		decorations.update_post_link();
		
		pngs.fix();
		
	},
	
	// insert comments into page
	load: function(items)
	{
		
		var c = comments;
		var commentlist;
		
		commentlist = document.getElementById('comment_list');

		if (commentlist === null) { return; }
			
		var comment;	
		var id;
		
		for (var i = 0; i < items.length; i ++) {
	
			// remember to replace '-' with '_' and prefix the UUID of the comment so that it's a valid element id.
			id = 'comment_' + items[i].commentID.replace(/\-/g,'_');
		
			// don't reinsert already existing comments
			if(document.getElementById(id) === null) {
		
				comment = document.createElement('div');
				comment.className = 'commentblock';
	
				
				var anchor = document.createElement('a');
				if (anchor != null) { 
					anchor.setAttribute('name',id);
					anchor.setAttribute('id',id);
					comment.appendChild(anchor);
				}
				
				// loop over properties in comment, if a property has a callback function defined, then call it
				for (var j = 0; j < c.itemOrder.length; j++) {
					if (render[c.itemOrder[j]] !== undefined) {
						render[c.itemOrder[j]](comment,items[i]);
					}			
				}
						
				commentlist.appendChild(comment);
				comment = null;
			
			}
			
		}
	
	}
}

var decorations = {
	list: ['count','manage_comments','post_link','comment_layer','comment_footer','comment_title'],
	init: function ()
	{
		var d = decorations;
		
		// loop over properties in decorations
		for (var i = 0; i < d.list.length; i++) {
			d[d.list[i]] = d.collect(d.list[i]);
		}	
	},

	// collect gathers all the placeholders for a placeholder of type name and returns them in the array collection
	collect: function(name)
	{
		var collection = [];
		var e, i = 0;
		
		// look for the base version of the item name # to remove
		e = document.getElementById(name);
		if (e !== null) { collection.push(e); }
		
		// loop over name_N until you cannot find
		e = document.getElementById(name + '_' + i);		
		while (e !== null) {
			collection.push(e);
			i ++;
			e = document.getElementById(name + '_' + i);
		}
		return collection;
	},
	
	update_count: function()
	{
		var d = decorations;
		
		for (var i = 0; i < d.count.length; i ++) {
			if (comments.hasComments) {
			
				d.show('comment_title');
				
				var s = document.createTextNode(commentCountString(comments.count));
				var r = d.count[i].firstChild;
				
				if (d.count[i].hasChildNodes && r != null) {
					d.count[i].replaceChild(s,r);
				}
				else {
					d.count[i].appendChild(s);
				}
				
			} 
		}	
	},
	
	update_manage_comments: function()
	{
		var d = decorations;
		
		for (var i = 0; i < d.manage_comments.length; i ++) {
		
			var r = d.manage_comments[i].firstChild;

			// insert control if none found
			if (comments.hasComments && r == null) {
				var managelink = document.createElement('a');
				var commentcontrolGlyph = document.createElement('img');
				
				// use element's class name to determine which image to use
				switch (d.manage_comments[i].className) {
					case 'light':
						commentcontrolGlyph.src = 'http://www.mac.com/1/up/comments/images/lockIcon_dark.png';
						break;
					case 'dark':
					default:
						commentcontrolGlyph.src = 'http://www.mac.com/1/up/comments/images/lockIcon_light.png';				
				}
				
				commentcontrolGlyph.alt = localeStringForKey('managecomments');
				commentcontrolGlyph.title = localeStringForKey('managecomments');
				commentcontrolGlyph.id = 'manage_comments_icon_' + i;
				managelink.appendChild(commentcontrolGlyph);
				if (typeof(fakeURLPathname) == "undefined") {
					managelink.href = manageCommentsAppURL + '?url=' + encodeURIComponent(decodeURIComponent(location.pathname)); // prevent double encoding
				} else {
					managelink.href = manageCommentsAppURL + '?url=' + encodeURIComponent(decodeURIComponent(fakeURLPathname));
				}

				d.manage_comments[i].appendChild(managelink);
				
				pngs.add('manage_comments_icon_' + i);
				
				managelink = null;				
				commentcontrolGlyph = null;
			}
		}
	},
	
	update_post_link: function()
	{
		var d = decorations;
		
		for (var i = 0; i < d.post_link.length; i ++) {
			
			var r = d.post_link[i].firstChild;
		
			if (comments.canComment && r == null) {
				var commentlink = document.createElement('a');
				var s = document.createTextNode(localeStringForKey('addcomment'));
				commentlink.appendChild(s);
				commentlink.href = '#';
				commentlink.onclick = function() 
				{
					var name;
					var thePathname;
					if (typeof(fakeURLPathname) == "undefined") {
						thePathname = location.pathname;
					} else {
						thePathname = fakeURLPathname;
					}					


					// compute window name from blog entry ID
					var path = thePathname.split('/');
					if (path.length > 0) {
						name = path[path.length - 1];
					}
					else {
						name = 'entry.html';
					}
					name = name.replace('.html','');
					name = 'comment_' + name.replace(/\-/g,'_');
					commentWindow = window.open(commentsAppURL + '?url=' + encodeURIComponent(decodeURIComponent(thePathname)),name,windowRules); // prevent double encoding & clean up window name
					listenForChildWindow(); // start listener
					return false;	
				}
				commentlink.style.fontWeight = 'bold';
				commentlink.title = localeStringForKey('addcommentcaption');
				d.post_link[i].appendChild(commentlink);	
				commentlink = null;
			}
		}
	},
		
	hide: function(name)
	{	
		var d = decorations;
		var set = d[name];
		for (var i = 0; i < set.length; i++) {
			if (set[i] !== null) { set[i].style.display = 'none'; }
		}
	},
	
	show: function(name)
	{
		var d = decorations;
		var set = d[name];
		for (var i = 0; i < set.length; i++) {
			if (set[i] !== null) { set[i].style.display = 'block'; }
		}
	}

};

// Callback Functions For Rendering Comments
var render = {
	commenttext: function(comment,data) 
	{
		var	body = document.createElement('div');
		body.className = 'commenttext';
		body.style.overflow = 'auto';


		commentText = data.body.replace(/\<A href=\"(.*?)\" rel=\"nofollow\"\>(.*?)\<\/A\>/gi,'$2');
		commentText = commentText.replace(/\&lt;img (.*?)\]/gi,'<img $1>');
		commentText = commentText.replace(/\&lt;\/img\&gt;/gi,'</img>');
		commentText = commentText.replace(/\&lt;a (.*?)\&gt;/gi,'<a $1>');
		commentText = commentText.replace(/\&lt;\/a\&gt;/gi,'</a>');
		commentText = commentText.replace(/\&lt;u\&gt;/gi,'<u>');
		commentText = commentText.replace(/\&lt;\/u\&gt;/gi,'</u>');
		commentText = commentText.replace(/\&lt;b\&gt;/gi,'<b>');
		commentText = commentText.replace(/\&lt;\/b\&gt;/gi,'</b>');
		commentText = commentText.replace(/\&lt;i\&gt;/gi,'<i>');
		commentText = commentText.replace(/\&lt;\/i\&gt;/gi,'</i>');
		commentText = commentText.replace(/\&lt;blockquote\&gt;/gi,'<blockquote>');
		commentText = commentText.replace(/\&lt;\/blockquote\&gt;/gi,'</blockquote>');
		commentText = commentText.replace(/\&lt;pre\&gt;/gi,'<pre>');
		commentText = commentText.replace(/\&lt;\/pre\&gt;/gi,'</pre>');
		commentText = commentText.replace(/\&lt;code\&gt;/gi,'<code>');
		commentText = commentText.replace(/\&lt;\/code\&gt;/gi,'</code>');
		commentText = commentText.replace(/\&lt;q\&gt;/gi,'<q>');
		commentText = commentText.replace(/\&lt;\/q\&gt;/gi,'</q>');
		commentText = commentText.replace(/\n\&lt;p\&gt;/gi,'<p>');
		commentText = commentText.replace(/\&lt;p\&gt;/gi,'<p>');
		commentText = commentText.replace(/\&lt;\/p\&gt;\n/gi,'</p>');
		commentText = commentText.replace(/\&lt;\/p\&gt;/gi,'</p>');
		commentText = commentText.replace(/\&lt;em\&gt;/gi,'<em>');
		commentText = commentText.replace(/\&lt;\/em\&gt;/gi,'</em>');

		commentText = commentText.replace(/\[img (.*?)\]/gi,'<img $1>');
		commentText = commentText.replace(/\[\/img\]/gi,'</img>');
		commentText = commentText.replace(/\[a (.*?)\]/gi,'<a $1>');
		commentText = commentText.replace(/\[\/a\]/gi,'</a>');
		commentText = commentText.replace(/\[u\]/gi,'<u>');
		commentText = commentText.replace(/\[\/u\]/gi,'</u>');
		commentText = commentText.replace(/\[b\]/gi,'<b>');
		commentText = commentText.replace(/\[\/b\]/gi,'</b>');
		commentText = commentText.replace(/\[i\]/gi,'<i>');
		commentText = commentText.replace(/\[\/i\]/gi,'</i>');
		commentText = commentText.replace(/\[blockquote\]/gi,'<blockquote>');
		commentText = commentText.replace(/\[\/blockquote\]/gi,'</blockquote>');
		commentText = commentText.replace(/\[pre\]/gi,'<pre>');
		commentText = commentText.replace(/\[\/pre\]/gi,'</pre>');
		commentText = commentText.replace(/\[code\]/gi,'<code>');
		commentText = commentText.replace(/\[\/code\]/gi,'</code>');
		commentText = commentText.replace(/\[q\]/gi,'<q>');
		commentText = commentText.replace(/\[\/q\]/gi,'</q>');
		commentText = commentText.replace(/\n\[p\]/gi,'<p>');
		commentText = commentText.replace(/\[p\]/gi,'<p>');
		commentText = commentText.replace(/\[\/p\]\n/gi,'</p>');
		commentText = commentText.replace(/\[\/p\]/gi,'</p>');
		commentText = commentText.replace(/\[em\]/gi,'<p>');
		commentText = commentText.replace(/\[\/em\]/gi,'</p>');

		commentText = commentText.replace(/<br><p>/gi,'<p>');
		commentText = commentText.replace(/<\/p><br>/gi,'</p>');


		commentText = commentText.replace(/>\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/devil.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(-.-\)/g,'<img src="http://homepage.mac.com/simx/smilies/sleeping.png" style="margin: 0px;">');
		commentText = commentText.replace(/-_-/g,'<img src="http://homepage.mac.com/simx/smilies/sleeping.png" style="margin: 0px;">');
		commentText = commentText.replace(/-.-/g,'<img src="http://homepage.mac.com/simx/smilies/sleeping.png" style="margin: 0px;">');
		commentText = commentText.replace(/>-\)/g,'<img src="http://homepage.mac.com/simx/smilies/alien.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(->\)/g,'<img src="http://homepage.mac.com/simx/smilies/arrow.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(pirate\)/g,'<img src="http://homepage.mac.com/simx/smilies/chris.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:pirate\:/g,'<img src="http://homepage.mac.com/simx/smilies/chris.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(phone\)/g,'<img src="http://homepage.mac.com/simx/smilies/phone.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:phone\:/g,'<img src="http://homepage.mac.com/simx/smilies/phone.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(santa\)/g,'<img src="http://homepage.mac.com/simx/smilies/santa.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:santa\:/g,'<img src="http://homepage.mac.com/simx/smilies/santa.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(sheep\)/g,'<img src="http://homepage.mac.com/simx/smilies/shaun.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:sheep\:/g,'<img src="http://homepage.mac.com/simx/smilies/shaun.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(shaun\)/g,'<img src="http://homepage.mac.com/simx/smilies/shaun.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:shaun\:/g,'<img src="http://homepage.mac.com/simx/smilies/shaun.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(\*\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/shuriken.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(sorcerer\)/g,'<img src="http://homepage.mac.com/simx/smilies/sorcerer.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:sorcerer\:/g,'<img src="http://homepage.mac.com/simx/smilies/sorcerer.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(zorro\)/g,'<img src="http://homepage.mac.com/simx/smilies/zorro.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:zorro\:/g,'<img src="http://homepage.mac.com/simx/smilies/zorro.png" style="margin: 0px;">');
		commentText = commentText.replace(/o_O/g,'<img src="http://homepage.mac.com/simx/smilies/blink.png" style="margin: 0px;">');
		commentText = commentText.replace(/O_o/g,'<img src="http://homepage.mac.com/simx/smilies/blink.png" style="margin: 0px;">');
		commentText = commentText.replace(/o_0/g,'<img src="http://homepage.mac.com/simx/smilies/blink.png" style="margin: 0px;">');
		commentText = commentText.replace(/0_o/g,'<img src="http://homepage.mac.com/simx/smilies/blink.png" style="margin: 0px;">');
		commentText = commentText.replace(/>\:\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/>\:-\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/X\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/X-\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/x\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/x-\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\">/g,'<img src="http://homepage.mac.com/simx/smilies/blushing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\*>/g,'<img src="http://homepage.mac.com/simx/smilies/blushing.png" style="margin: 0px;">');
		commentText = commentText.replace(/B\)/g,'<img src="http://homepage.mac.com/simx/smilies/cool.png" style="margin: 0px;">');
		commentText = commentText.replace(/B-\)/g,'<img src="http://homepage.mac.com/simx/smilies/cool.png" style="margin: 0px;">');
		commentText = commentText.replace(/8\)/g,'<img src="http://homepage.mac.com/simx/smilies/cool.png" style="margin: 0px;">');
		commentText = commentText.replace(/8-\)/g,'<img src="http://homepage.mac.com/simx/smilies/cool.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\'\(/g,'<img src="http://homepage.mac.com/simx/smilies/crying.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-z/g,'<img src="http://homepage.mac.com/simx/smilies/dizzy.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:z/g,'<img src="http://homepage.mac.com/simx/smilies/dizzy.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\\/g,'<img src="http://homepage.mac.com/simx/smilies/ermm.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\\/g,'<img src="http://homepage.mac.com/simx/smilies/ermm.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\//g,'<img src="http://homepage.mac.com/simx/smilies/ermm.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(ph33r\)/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:ph33r\:/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(ph34r\)/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:ph34r\:/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/<_</g,'<img src="http://homepage.mac.com/simx/smilies/getlost.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-D/g,'<img src="http://homepage.mac.com/simx/smilies/grin.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:D/g,'<img src="http://homepage.mac.com/simx/smilies/grin.png" style="margin: 0px;">');
		commentText = commentText.replace(/\^_\^/g,'<img src="http://homepage.mac.com/simx/smilies/happy.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\)\)/g,'<img src="http://homepage.mac.com/simx/smilies/happy.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\)\)/g,'<img src="http://homepage.mac.com/simx/smilies/happy.png" style="margin: 0px;">');
		commentText = commentText.replace(/O\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/o\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/o\:-\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/O\:-\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/0\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/0\:-\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\*/g,'<img src="http://homepage.mac.com/simx/smilies/kiss.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\*/g,'<img src="http://homepage.mac.com/simx/smilies/kiss.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(LOL\)/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:LOL\:/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/LOL/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(lol\)/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:lol\:/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/lol/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\|/g,'<img src="http://homepage.mac.com/simx/smilies/noexpression.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\|/g,'<img src="http://homepage.mac.com/simx/smilies/noexpression.png" style="margin: 0px;">');
		commentText = commentText.replace(/>_</g,'<img src="http://homepage.mac.com/simx/smilies/pinch.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\(/g,'<img src="http://homepage.mac.com/simx/smilies/sad.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\(/g,'<img src="http://homepage.mac.com/simx/smilies/sad.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-O/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:O/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-o/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:o/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-0/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:0/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:&/g,'<img src="http://homepage.mac.com/simx/smilies/sick.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-&/g,'<img src="http://homepage.mac.com/simx/smilies/sick.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/smile.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\)/g,'<img src="http://homepage.mac.com/simx/smilies/smile.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(teehee\)/g,'<img src="http://homepage.mac.com/simx/smilies/stuart.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:teehee\:/g,'<img src="http://homepage.mac.com/simx/smilies/stuart.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:P/g,'<img src="http://homepage.mac.com/simx/smilies/tongue.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-P/g,'<img src="http://homepage.mac.com/simx/smilies/tongue.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:p/g,'<img src="http://homepage.mac.com/simx/smilies/tongue.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-p/g,'<img src="http://homepage.mac.com/simx/smilies/tongue.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\]/g,'<img src="http://homepage.mac.com/simx/smilies/turned.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:s/g,'<img src="http://homepage.mac.com/simx/smilies/unsure.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-S/g,'<img src="http://homepage.mac.com/simx/smilies/unsure.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-s/g,'<img src="http://homepage.mac.com/simx/smilies/unsure.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:S/g,'<img src="http://homepage.mac.com/simx/smilies/unsure.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(woot\)/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(w00t\)/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(wOOt\)/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:woot\:/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:w00t\:/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:wOOt\:/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\?/g,'<img src="http://homepage.mac.com/simx/smilies/wassat.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\"/g,'<img src="http://homepage.mac.com/simx/smilies/whistling.png" style="margin: 0px;">');
		commentText = commentText.replace(/;\)/g,'<img src="http://homepage.mac.com/simx/smilies/wink.png" style="margin: 0px;">');
		commentText = commentText.replace(/;-\)/g,'<img src="http://homepage.mac.com/simx/smilies/wink.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:x/g,'<img src="http://homepage.mac.com/simx/smilies/wub.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:X/g,'<img src="http://homepage.mac.com/simx/smilies/wub.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-X/g,'<img src="http://homepage.mac.com/simx/smilies/wub.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-x/g,'<img src="http://homepage.mac.com/simx/smilies/wub.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(cat\)/g,'<img src="http://homepage.mac.com/simx/smilies/cat.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:cat\:/g,'<img src="http://homepage.mac.com/simx/smilies/cat.png" style="margin: 0px;">');
		commentText = commentText.replace(/\%\%-/g,'<img src="http://homepage.mac.com/simx/smilies/clover.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(!\)/g,'<img src="http://homepage.mac.com/simx/smilies/excl.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(flowers\)/g,'<img src="http://homepage.mac.com/simx/smilies/flowers.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:flowers\:/g,'<img src="http://homepage.mac.com/simx/smilies/flowers.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(heart\)/g,'<img src="http://homepage.mac.com/simx/smilies/heart.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:heart\:/g,'<img src="http://homepage.mac.com/simx/smilies/heart.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(homestar\)/g,'<img src="http://homepage.mac.com/simx/smilies/homestar.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:homestar\:/g,'<img src="http://homepage.mac.com/simx/smilies/homestar.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(nuke\)/g,'<img src="http://homepage.mac.com/simx/smilies/nuke.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:nuke\:/g,'<img src="http://homepage.mac.com/simx/smilies/nuke.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(geek\)/g,'<img src="http://homepage.mac.com/simx/smilies/online2long.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:geek\:/g,'<img src="http://homepage.mac.com/simx/smilies/online2long.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:rolleyes\:/g,'<img src="http://homepage.mac.com/simx/smilies/rolleyes.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(rolleyes\)/g,'<img src="http://homepage.mac.com/simx/smilies/rolleyes.png" style="margin: 0px;">');
		body.innerHTML = commentText.replace(/\r\n/g,'<br />');

		comment.appendChild(body);
		body = null;	
	},
	authorblock: function(comment,data)
	{
		if (data.authorID !== '') {
			var author = document.createElement('div');
			var authorID = document.createTextNode(data.authorID);
			var fn = null;
			author.className = 'authorblock vcard';
			var url = this.authorurl(data);
			if (url != null) {
				url.appendChild(authorID);
				author.appendChild(url);
			} 
			else {
				fn = document.createElement('span');
				fn.className = 'fn';
				fn.appendChild(authorID);
				author.appendChild(fn);
			}
			comment.appendChild(author);
			author = null;
		} 
		else {
			return;
		}
	},
	authorurl: function(data)
	{
		var author = null;
		
		if (data.authorURL !== undefined && data.authorURL !== '') {
			author = document.createElement('a');
			author.setAttribute('href', data.authorURL);
		} 
		else {
			return null;
		}
		
		if (data.authorURL.indexOf('mailto:') > -1) {
			author.className = 'email fn';
		}			
		else if (data.authorURL.indexOf('http://') > -1) {
			author.className = 'url fn';
		}
		else {
			author.className = 'fn';
		}
		
		return author;
	},
	dateblock: function(comment,data)
	{
		var date = document.createElement('div');
		date.className = 'dateblock';
		date.innerHTML = data.createDate;
		comment.appendChild(date);
		date = null;	
	},
	attachments: function(comment,data)
	{
		
		var attachment;
		var preview;
		var link;
		var desc;
		
		if (data.attachments === undefined) { return; }
		
		for (var i = 0; i < data.attachments.length; i++) {
		
			// container
			attachment = document.createElement('div');
			
			// thumbnail w/link
			link = document.createElement('a');
			link.title = data.attachments[i].mimetype;
			if (typeof(fakeURLPathname) == "undefined") {
				link.href = location.pathname + data.attachments[i].urlDownload;
			} else {
				link.href = fakeURLPathname + data.attachments[i].urlDownload;
			}
			
			preview = document.createElement('img');
			preview.id = 'attachment_' + data.commentID.replace(/\-/g,'_') + '_' + i;
			
			// deal with multiple definitions of thumbnail here
			if (data.attachments[i].urlPreview !== undefined) {
				preview.src = data.attachments[i].urlPreview;
			} 
			else if (data.attachments[i].previewUrl !== undefined) {
				preview.src = data.attachments[i].previewUrl;			
			}
			else {
				preview.src = 'http://www.mac.com/1/up/comments/images/attach_generic_big.png';
			}
			link.appendChild(preview);
			attachment.appendChild(link);
		
			// handle image v. other attachment
			if (!this.isImage(data.attachments[i].mimetype)) {
			
				var space = document.createTextNode('\xA0');
				attachment.appendChild(space);
				space = null;
			
				desc = document.createElement('a');
				desc.className = 'description';
				if (typeof(fakeURLPathname) == "undefined") {
					desc.href = location.pathname + data.attachments[i].urlDownload;
				} else {
					desc.href = fakeURLPathname + data.attachments[i].urlDownload;
				}
				

				if (data.attachments[i].displayname !== undefined) {
					desc.innerHTML = this.formatDisplayName(data.attachments[i].displayname,data.attachments[i].size);
				} 
				else {
					desc.innerHTML = this.formatDisplayName(data.attachments[i].filename,data.attachments[i].size);				
				}
				attachment.className = 'fileattachment';
				pngs.add(preview.id);				
				attachment.appendChild(desc);
			}
			else {
				attachment.className = 'imageblock';			
			}

			comment.appendChild(attachment);
			
			// cleanup 
			attachment = null;
			preview = null;
			link = null;
			desc = null;
		}
	},
	separator: function(comment)
	{
		var separator = document.createElement('div');
		separator.className = 'separator';
		separator.innerHTML = '&nbsp;';
		comment.appendChild(separator);
		separator = null;	
	},
	
	bytesToString: function(str)
	{
		var bytes = Number(str);
		
		if (bytes < 1024) {
			return localeStringForKey('bytes', bytes.toLocaleString());
		}
		else if (bytes < 1048756) {
			var kb = bytes / 1024.0;
			return localeStringForKey('KB', Number(kb.toFixed(1)).toLocaleString());
		}
		else if (bytes < 1073741824) {
			var mb = bytes / 1048756.0
			return localeStringForKey('MB', Number(mb.toFixed(1)).toLocaleString());
		}
		else {
			var gb = bytes / 1073741824.0;
			return localeStringForKey('GB', Number(gb.toFixed(1)).toLocaleString());
		}	
	},
	
	isImage: function(mimetype)
	{
		switch (mimetype.toLowerCase()) {
			case 'image/gif' :
			case 'image/jpg' :
			case 'image/jpeg':
			case 'image/pjpeg':
				return true;
			default:
				return false;
		}
	},
	
	formatDisplayName: function(displayname,size)
	{
		return displayname + '&#160;&#160;&#160;' + this.bytesToString(size);
	}
};

// Listen for the child comment entry window to close, then reload yourself.
function listenForChildWindow()
{
	if (!browser.safari && commentWindow.closed) {
		comments.fetch();
		commentWindow = null; // gc
	} 
	else if (browser.safari && commentWindow.name == 'canreload') {
		comments.fetch();
	} 
	else {
		setTimeout(listenForChildWindow,500);
	}
}