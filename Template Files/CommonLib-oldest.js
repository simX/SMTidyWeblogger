var entryUUIDsList = new Array("E20071211005416","E20071207225334","E20071202174822","E20071201102539","E20071130014855","E20071125225334","E20071125023420","E20071120234720","E20071118034738","E20071114111958","E20071107233441","E20071106154457","E20071105145921","E20071031010303","E20071101235148","E20071028052620","E20071028033357","E20071027031932","E20071026223559","E20071025165538","E20071022155309","E20071018033951","E20071012003117","E20071010023102","E20071007231335","E20071005011955","E20070926150751","E20070920175352","E20070913154259","E20070910161923","E20070909171447","E20070907152626","E20070905214330","E20070829211523","E20070821192628","E20070814190348","E20070813104342","E20070810000237","E20070808004626","E20070805125125","E20070803020308","E20070731225044","E20070731140730","E20070726144046","E20070725205532","E20070725015358","E20070720182212","E20070628195046","E20070627112316","E20070619010300","E20070615235941","E20070613022309","E20070608144711","E20070604003123","E20070601214453","E20070529215330","E20070528132525","E20070525230256","E20070516013615","E20070514000339","E20070507215650","E20070502151235","E20070423173342","E20070421033421","E20070419233858","E20070418025501","E20070402102753","E20070412145754","E20070405222736","E20070402102057","E20070331171858","E20070327023903","E20070326000908","E20070320232631","E20070319020743","E20070306000809","E20070222004827","E20070126223501","E20061212021741","E20061206203336","E20061205105656","E20061205033028","E20061204014346","E20061201021913","E20061201020017","E20061125033653","E20061123235613","E20061120021355","E20061116233754","E20061115214416","E20061109005000","E20061107105428","E20061030013612","E20061023235326","E20061021143131","E20061016191058","E20061015160830","E20061007104117","E20061007010912","E20061005000336","E20060928202446","E20060925015036","E20060922230524","E20060921004503","E20060919221004","E20060919010414","E20060917010252","E20060912130807","E20060912051616","E20060912013353","E20060910052704","E20060909034917","E20060908051621","E20060907043203","E20060906005844","E20060903045221","E20060902233719","E20060902112129","E20060831032733","E20060826041629","E20060824020020","E20060821052113","E20060820041216","E20060819040024","E20060818205219","E20060817172141","E20060810021450","E20060810021026","E20060807212254","E20060807190052","E20060806023249","E20060804020452","E20060804003527","E20060801011443","E20060729005328","E20060725035449","E20060723194218","E20060722024644","E20060722024334","E20060721034620","E20060715204537","E20060715154009","E20060707221235","E20060703021808","E20060703014953","E20060701035211","E20060630011247","E20060627153454","E20060624032017","E20060620012720","E20060617002856","E20060613041851","E20060608011308","E20060605023630","E20060522005408","E20060518005602","E20060516004321","E20060514224340","E20060404000532","E20060507155142","E20060613032714","E20060421020347","E20060412214624","E20060412194411","E20060409011355","E20060405184450","E20060405011756","E20060403020544","E20060402204001","E20060330031518","E20060329043500","E20060329004249","E20060326002004","E20060317025150","E20060305170613","E20060228111357","E20060226050529","E20060218010523","E20060217233906","E20060217003010","E20060215004331","E20060210012806","E20060208033106","E20060126052908","E20060123023533","E20060117205402","E20060113034128","E20060112033825","E20060112030851","E20060110230253","E20051229023351","E20051218201711","E20051217021233","E20051217013205","E20051210212921","E20051204004453","E20051129015314","E20051128022458","E20051128013821","E20051123185847","E20051118020800","E20051108034751","E20051101211853","E20051031024420","E20051021225255","E20051019024803","E20051017224206","E20051017023712","E20051013232129","E20051009002928","E20051004235513","E20051001174657","E20050922030148","E20050918032417","E20050917032759","E20050914123514","E20050912053022","E20050911125706","E20050910043753","E20050902175821","E20050902024519","E20050830182738","E20050830023453","E20050829223758","E20050828053317","E20050827024245","E20050823144220","E20050818235048","E20050818003854","E20050812034614","E327211904","E248509775","E1523339322","E1952378532","E164287034","E1629544747","E841277273","E507171662","E1528111993","E2024429326","E452080370","E806246838","E20060921002314","E415581589","E20060920235835","E20060920235748","E20060920235654","E20060920235514","E1959563899","E20060920235402","E570447461","E822302543","E20060920235310","E2082685173","E1381138216","E93398334","E20060920235151","E554940011","E1659930084","E20060920235005","E627262483","E1823923869","E1333046216","E108108803","E20060920234628","E1012620692","E20060920234522","E20060920234105","E20060919041030","E20060919041001","E20060919040648","E20060919035527","E20060919035448","E20060919035353","E20060919035253","E20060919035143","E20060919034914","E20060919011653","E20060919011603","E20060919010800","E20060919010454","E20060919005245","E20060919005140","E20060919005005","E1703252329","E1304762440","E20060919004909","E111080744","E20060919004610","E20060919004546","E20060919011907","E20060919012042","E980028723","E329186308","E1052202192","E816299233","E1409598177");

function writeTenMostRecentEntryLinks() {
	var i, entryUUID, categoryUUID;
	for (i=0; i < 10; i++) {
		entryUUID = entryUUIDsList[i];
		categoryUUID = getCategoryUUIDForEntry(entryUUID);
		if (i != 10) {
			document.write('<iframe name="' + entryUUID + '" style="display: none;" src="' + categoryUUID + '/' + entryUUID + '/index.html"></iframe>');
		}
	}
	
	document.write('<iframe onload="getTenMostRecentEntryTitles();" name="' + entryUUID + '" style="display: none;" src="' + categoryUUID + '/' + entryUUID + '/index.html"></iframe>');
}

function writeLinkableSupernovaLinks() {
	var linked_list = '';
	linked_list += '<ul>';
	for (i=0; i < 10; i++) {
		entryUUID = entryUUIDsList[i];
		linked_list += '<li><a href="' + linkableSupernovaRecentEntries[i][1] + '">' + linkableSupernovaRecentEntries[i][0] + '</a></li>';
	}
	linked_list += '</ul>';
	document.write(linked_list);
}

function getHaloscanJavascript() {
	var haloscanJavascript = '';
	document.write(haloscanJavascript);
}

function getCommentsCode(entryUUID) {
	var commentsCode = '';
	document.write(commentsCode);
}

function getAdsenseCode() {
	var adsenseCode = '';
	document.write(adsenseCode);
}

function getNextEntryLink(currentUUID) {   
	var i;
	var entryUUID;
	var categoryUUID;
	
    for(i = 0; i < entryUUIDsList.length -1; i++) {
        if(entryUUIDsList[i] == currentUUID) {
			entryUUID = entryUUIDsList[i+1];
			categoryUUID = getCategoryUUIDForEntry(entryUUID);
            document.write('<a href="../../' + categoryUUID + '/' + entryUUID + '/index.html">Older</a>');
			return;
        }
    }
	
	document.write('');
}

function getCurrentEntryLink(currentUUID) {
	var categoryUUID = getCategoryUUIDForEntry(currentUUID);
	document.write('<a href="' + categoryUUID + '/' + currentUUID + '/index.html">Permalink</a>');
}

function getPreviousEntryLink(currentUUID) {   
	var i;
	var entryUUID;
	var categoryUUID;
	
    for(i = 1; i < entryUUIDsList.length; i++) {
        if(entryUUIDsList[i] == currentUUID) {
			entryUUID = entryUUIDsList[i-1];
			categoryUUID = getCategoryUUIDForEntry(entryUUID);
            document.write('<a href="../../' + categoryUUID + '/' + entryUUID + '/index.html">Newer</a>');
			return;
        }
    }
	
	document.write('');
}

function getCategoryUUIDForEntry(entryUUID) {
    var entryCategoryUUIDPairs = new Array("E20071211005416","C488455530","E20071207225334","C486203617","E20071202174822","C486203617","E20071201102539","C486203617","E20071130014855","C486203617","E20071125225334","C488455530","E20071125023420","C2116391994","E20071120234720","C486203617","E20071118034738","C486203617","E20071114111958","C488455530","E20071107233441","C488455530","E20071106154457","C486203617","E20071105145921","C486203617","E20071031010303","C486203617","E20071101235148","C2116391994","E20071028052620","C2116391994","E20071028033357","C2116391994","E20071027031932","C486203617","E20071026223559","C486203617","E20071025165538","C757145247","E20071022155309","C486203617","E20071018033951","C757145247","E20071012003117","C486203617","E20071010023102","C2116391994","E20071007231335","C2116391994","E20071005011955","C486203617","E20070926150751","C486203617","E20070920175352","C2116391994","E20070913154259","C486203617","E20070910161923","C2116391994","E20070909171447","C2116391994","E20070907152626","C757145247","E20070905214330","C486203617","E20070829211523","C757145247","E20070821192628","C488455530","E20070814190348","C757145247","E20070813104342","C488455530","E20070810000237","C2116391994","E20070808004626","C486203617","E20070805125125","C757145247","E20070803020308","C2116391994","E20070731225044","C486203617","E20070731140730","C486203617","E20070726144046","C2116391994","E20070725205532","C486203617","E20070725015358","C486203617","E20070720182212","C2116391994","E20070628195046","C486203617","E20070627112316","C486203617","E20070619010300","C486203617","E20070615235941","C2116391994","E20070613022309","C486203617","E20070608144711","C2116391994","E20070604003123","C757145247","E20070601214453","C2116391994","E20070529215330","C757145247","E20070528132525","C486203617","E20070525230256","C2116391994","E20070516013615","C757145247","E20070514000339","C2116391994","E20070507215650","C488455530","E20070502151235","C757145247","E20070423173342","C757145247","E20070421033421","C2116391994","E20070419233858","C757145247","E20070418025501","C488455530","E20070402102753","C757145247","E20070412145754","C757145247","E20070405222736","C486203617","E20070402102057","C757145247","E20070331171858","C2116391994","E20070327023903","C2116391994","E20070326000908","C488455530","E20070320232631","C1966536352","E20070319020743","C1966536352","E20070306000809","C757145247","E20070222004827","C757145247","E20070126223501","C757145247","E20061212021741","C1966536352","E20061206203336","C486203617","E20061205105656","C488455530","E20061205033028","C1966536352","E20061204014346","C1966536352","E20061201021913","C1966536352","E20061201020017","C1966536352","E20061125033653","C1966536352","E20061123235613","C1966536352","E20061120021355","C1966536352","E20061116233754","C486203617","E20061115214416","C757145247","E20061109005000","C486203617","E20061107105428","C486203617","E20061030013612","C1966536352","E20061023235326","C486203617","E20061021143131","C2116391994","E20061016191058","C1966536352","E20061015160830","C486203617","E20061007104117","C488455530","E20061007010912","C486203617","E20061005000336","C486203617","E20060928202446","C2116391994","E20060925015036","C1966536352","E20060922230524","C2116391994","E20060921004503","C1700219634","E20060919221004","C2116391994","E20060919010414","C1700219634","E20060917010252","C2116391994","E20060912130807","C757145247","E20060912051616","C1966536352","E20060912013353","C486203617","E20060910052704","C486203617","E20060909034917","C488455530","E20060908051621","C488455530","E20060907043203","C488455530","E20060906005844","C488455530","E20060903045221","C488455530","E20060902233719","C488455530","E20060902112129","C488455530","E20060831032733","C757145247","E20060826041629","C488455530","E20060824020020","C1966536352","E20060821052113","C486203617","E20060820041216","C486203617","E20060819040024","C399512598","E20060818205219","C757145247","E20060817172141","C757145247","E20060810021450","C399512598","E20060810021026","C757145247","E20060807212254","C757145247","E20060807190052","C486203617","E20060806023249","C399512598","E20060804020452","C399512598","E20060804003527","C486203617","E20060801011443","C486203617","E20060729005328","C757145247","E20060725035449","C488455530","E20060723194218","C757145247","E20060722024644","C757145247","E20060722024334","C399512598","E20060721034620","C399512598","E20060715204537","C486203617","E20060715154009","C757145247","E20060707221235","C757145247","E20060703021808","C757145247","E20060703014953","C486203617","E20060701035211","C488455530","E20060630011247","C486203617","E20060627153454","C488455530","E20060624032017","C757145247","E20060620012720","C486203617","E20060617002856","C2116391994","E20060613041851","C757145247","E20060608011308","C757145247","E20060605023630","C757145247","E20060522005408","C757145247","E20060518005602","C486203617","E20060516004321","C488455530","E20060514224340","C2116391994","E20060404000532","C2116391994","E20060507155142","C486203617","E20060613032714","C486203617","E20060421020347","C486203617","E20060412214624","C757145247","E20060412194411","C757145247","E20060409011355","C486203617","E20060405184450","C488455530","E20060405011756","C757145247","E20060403020544","C488455530","E20060402204001","C2116391994","E20060330031518","C1766861589","E20060329043500","C1766861589","E20060329004249","C2116391994","E20060326002004","C1766861589","E20060317025150","C1766861589","E20060305170613","C1766861589","E20060228111357","C1766861589","E20060226050529","C1766861589","E20060218010523","C2116391994","E20060217233906","C2116391994","E20060217003010","C2116391994","E20060215004331","C1766861589","E20060210012806","C2116391994","E20060208033106","C1766861589","E20060126052908","C1766861589","E20060123023533","C399512598","E20060117205402","C1766861589","E20060113034128","C1966536352","E20060112033825","C2116391994","E20060112030851","C399512598","E20060110230253","C1766861589","E20051229023351","C2116391994","E20051218201711","C1766861589","E20051217021233","C1766861589","E20051217013205","C1766861589","E20051210212921","C2116391994","E20051204004453","C2116391994","E20051129015314","C1766861589","E20051128022458","C1766861589","E20051128013821","C1766861589","E20051123185847","C1766861589","E20051118020800","C1766861589","E20051108034751","C1766861589","E20051101211853","C2116391994","E20051031024420","C2116391994","E20051021225255","C2116391994","E20051019024803","C1766861589","E20051017224206","C1766861589","E20051017023712","C1766861589","E20051013232129","C2116391994","E20051009002928","C2116391994","E20051004235513","C1766861589","E20051001174657","C1766861589","E20050922030148","C2116391994","E20050918032417","C1766861589","E20050917032759","C2116391994","E20050914123514","C1766861589","E20050912053022","C1766861589","E20050911125706","C2116391994","E20050910043753","C1766861589","E20050902175821","C2116391994","E20050902024519","C1766861589","E20050830182738","C1766861589","E20050830023453","C1766861589","E20050829223758","C1766861589","E20050828053317","C1766861589","E20050827024245","C2116391994","E20050823144220","C1766861589","E20050818235048","C2116391994","E20050818003854","C1766861589","E20050812034614","C1766861589","E327211904","C1766861589","E248509775","C1766861589","E1523339322","C1766861589","E1952378532","C1766861589","E164287034","C1766861589","E1629544747","C1766861589","E841277273","C1766861589","E507171662","C1766861589","E1528111993","C1766861589","E2024429326","C1766861589","E452080370","C1766861589","E806246838","C1766861589","E20060921002314","C1700219634","E415581589","C1766861589","E20060920235835","C1700219634","E20060920235748","C1700219634","E20060920235654","C1700219634","E20060920235514","C1700219634","E1959563899","C1766861589","E20060920235402","C1700219634","E570447461","C1766861589","E822302543","C1766861589","E20060920235310","C1700219634","E2082685173","C1766861589","E1381138216","C1766861589","E93398334","C1766861589","E20060920235151","C1700219634","E554940011","C1766861589","E1659930084","C1766861589","E20060920235005","C1700219634","E627262483","C1766861589","E1823923869","C1766861589","E1333046216","C1766861589","E108108803","C1766861589","E20060920234628","C1700219634","E1012620692","C1766861589","E20060920234522","C1700219634","E20060920234105","C1700219634","E20060919041030","C1700219634","E20060919041001","C1700219634","E20060919040648","C1700219634","E20060919035527","C1700219634","E20060919035448","C1700219634","E20060919035353","C1700219634","E20060919035253","C1700219634","E20060919035143","C1700219634","E20060919034914","C1700219634","E20060919011653","C1700219634","E20060919011603","C1700219634","E20060919010800","C1700219634","E20060919010454","C1700219634","E20060919005245","C1700219634","E20060919005140","C1700219634","E20060919005005","C1700219634","E1703252329","C1766861589","E1304762440","C1766861589","E20060919004909","C1700219634","E111080744","C1766861589","E20060919004610","C1700219634","E20060919004546","C1700219634","E20060919011907","C1700219634","E20060919012042","C1700219634","E980028723","C1766861589","E329186308","C1766861589","E1052202192","C1766861589","E816299233","C1766861589","E1409598177","C1766861589");
    
    for(var i = 0; i < entryCategoryUUIDPairs.length -1; i++) {
        if(entryCategoryUUIDPairs[i] == entryUUID) {
            return(entryCategoryUUIDPairs[i+1]);
        }
    }
}

function getBlogName() {
    var blogName = 'Technological Supernova';
    document.write(blogName);
}

function getCategoryName(categoryUUID) {
    var categoryPairs = new Array("C1700219634","Publications","C488455530","Tips","C757145247","Intarweb","C486203617","Rants","C1966536352","Software Development","C1766861589","unfiled","C399512598","D2X-XL","C2116391994","Apple Bug Friday");
    
    for(var i = 0; i < categoryPairs.length -1; i++) {
        if(categoryPairs[i] == categoryUUID) {
            document.write(categoryPairs[i+1]);
        }
    }
}

function getCalendarHead() {
    var calendarHead = 'dicembre 2007';
    document.write(calendarHead);
}

function getBlogCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar"><a href="2007/12/1/index.html">1</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="2007/12/2/index.html">2</a></span></td><td align="center"><span class="calendar">3</span></td><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar">6</span></td><td align="center"><span class="calendar"><a href="2007/12/7/index.html">7</a></span></td><td align="center"><span class="calendar">8</span></td></tr> <tr><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar"><a href="2007/12/10/index.html">10</a></span></td><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td></tr> <tr><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar">17</span></td><td align="center"><span class="calendar">18</span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td></tr> <tr><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td><td align="center"><span class="calendar">25</span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar">28</span></td><td align="center"><span class="calendar">29</span></td></tr> <tr><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">31</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getCategoryCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar"><a href="../2007/12/1/index.html">1</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="../2007/12/2/index.html">2</a></span></td><td align="center"><span class="calendar">3</span></td><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar">6</span></td><td align="center"><span class="calendar"><a href="../2007/12/7/index.html">7</a></span></td><td align="center"><span class="calendar">8</span></td></tr> <tr><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar"><a href="../2007/12/10/index.html">10</a></span></td><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td></tr> <tr><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar">17</span></td><td align="center"><span class="calendar">18</span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td></tr> <tr><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td><td align="center"><span class="calendar">25</span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar">28</span></td><td align="center"><span class="calendar">29</span></td></tr> <tr><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">31</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getEntryCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar"><a href="../../2007/12/1/index.html">1</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="../../2007/12/2/index.html">2</a></span></td><td align="center"><span class="calendar">3</span></td><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar">6</span></td><td align="center"><span class="calendar"><a href="../../2007/12/7/index.html">7</a></span></td><td align="center"><span class="calendar">8</span></td></tr> <tr><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar"><a href="../../2007/12/10/index.html">10</a></span></td><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td></tr> <tr><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar">17</span></td><td align="center"><span class="calendar">18</span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td></tr> <tr><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td><td align="center"><span class="calendar">25</span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar">28</span></td><td align="center"><span class="calendar">29</span></td></tr> <tr><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">31</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getArchiveCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar"><a href="2007/12/1/index.html">1</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="2007/12/2/index.html">2</a></span></td><td align="center"><span class="calendar">3</span></td><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar">6</span></td><td align="center"><span class="calendar"><a href="2007/12/7/index.html">7</a></span></td><td align="center"><span class="calendar">8</span></td></tr> <tr><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar"><a href="2007/12/10/index.html">10</a></span></td><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td></tr> <tr><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar">17</span></td><td align="center"><span class="calendar">18</span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td></tr> <tr><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td><td align="center"><span class="calendar">25</span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar">28</span></td><td align="center"><span class="calendar">29</span></td></tr> <tr><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">31</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getYearCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar"><a href="12/1/index.html">1</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="12/2/index.html">2</a></span></td><td align="center"><span class="calendar">3</span></td><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar">6</span></td><td align="center"><span class="calendar"><a href="12/7/index.html">7</a></span></td><td align="center"><span class="calendar">8</span></td></tr> <tr><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar"><a href="12/10/index.html">10</a></span></td><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td></tr> <tr><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar">17</span></td><td align="center"><span class="calendar">18</span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td></tr> <tr><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td><td align="center"><span class="calendar">25</span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar">28</span></td><td align="center"><span class="calendar">29</span></td></tr> <tr><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">31</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getDayCalendarRows() {
    var calendarRows = '<tr><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar"><a href="../../../2007/12/1/index.html">1</a></span></td></tr> <tr><td align="center"><span class="calendar"><a href="../../../2007/12/2/index.html">2</a></span></td><td align="center"><span class="calendar">3</span></td><td align="center"><span class="calendar">4</span></td><td align="center"><span class="calendar">5</span></td><td align="center"><span class="calendar">6</span></td><td align="center"><span class="calendar"><a href="../../../2007/12/7/index.html">7</a></span></td><td align="center"><span class="calendar">8</span></td></tr> <tr><td align="center"><span class="calendar">9</span></td><td align="center"><span class="calendar"><a href="../../../2007/12/10/index.html">10</a></span></td><td align="center"><span class="calendar">11</span></td><td align="center"><span class="calendar">12</span></td><td align="center"><span class="calendar">13</span></td><td align="center"><span class="calendar">14</span></td><td align="center"><span class="calendar">15</span></td></tr> <tr><td align="center"><span class="calendar">16</span></td><td align="center"><span class="calendar">17</span></td><td align="center"><span class="calendar">18</span></td><td align="center"><span class="calendar">19</span></td><td align="center"><span class="calendar">20</span></td><td align="center"><span class="calendar">21</span></td><td align="center"><span class="calendar">22</span></td></tr> <tr><td align="center"><span class="calendar">23</span></td><td align="center"><span class="calendar">24</span></td><td align="center"><span class="calendar">25</span></td><td align="center"><span class="calendar">26</span></td><td align="center"><span class="calendar">27</span></td><td align="center"><span class="calendar">28</span></td><td align="center"><span class="calendar">29</span></td></tr> <tr><td align="center"><span class="calendar">30</span></td><td align="center"><span class="calendar">31</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td><td align="center"><span class="calendar">&nbsp;</span></td></tr>';
    document.write(calendarRows);
}

function getBlogEntriesCount() {
    var blogEntriesCount = '297';
    document.write(blogEntriesCount);
}

function getCategoryStatistics() {
    var categoryStatistics = 'Apple Bug Friday: 50 <br />D2X-XL: 8 <br />Intarweb: 39 <br />Publications: 35 <br />Rants: 52 <br />Software Development: 16 <br />Tips: 25 <br />';
    document.write(categoryStatistics);
}

function getCategoryEntriesCount(categoryUUID) {
    var categoryPairs = new Array("C1700219634","35","C488455530","25","C757145247","39","C486203617","52","C1966536352","16","C1766861589","72","C399512598","8","C2116391994","50");
    
    for(var i = 0; i < categoryPairs.length; i++) {
        if(categoryPairs[i] == categoryUUID) {
            document.write(categoryPairs[i+1]);
        }
    }
}

function getBlogCategories() {
    var categories = ' <a href="C2116391994/index.html"> Apple Bug Friday </a> <br />  <a href="C399512598/index.html"> D2X-XL </a> <br />  <a href="C757145247/index.html"> Intarweb </a> <br />  <a href="C1700219634/index.html"> Publications </a> <br />  <a href="C486203617/index.html"> Rants </a> <br />  <a href="C1966536352/index.html"> Software Development </a> <br />  <a href="C488455530/index.html"> Tips </a> <br /> ';
    document.write(categories); 
}

function getBlogHorizontalCategories() {
    var horizontalCategories = ' <a href="C2116391994/index.html"> Apple Bug Friday </a> &nbsp; &nbsp;  <a href="C399512598/index.html"> D2X-XL </a> &nbsp; &nbsp;  <a href="C757145247/index.html"> Intarweb </a> &nbsp; &nbsp;  <a href="C1700219634/index.html"> Publications </a> &nbsp; &nbsp;  <a href="C486203617/index.html"> Rants </a> &nbsp; &nbsp;  <a href="C1966536352/index.html"> Software Development </a> &nbsp; &nbsp;  <a href="C488455530/index.html"> Tips </a> &nbsp; &nbsp; ';
    document.write(horizontalCategories);
}

function getCategoryCategories() {
    var categories = ' <a href="../C2116391994/index.html"> Apple Bug Friday </a> <br />  <a href="../C399512598/index.html"> D2X-XL </a> <br />  <a href="../C757145247/index.html"> Intarweb </a> <br />  <a href="../C1700219634/index.html"> Publications </a> <br />  <a href="../C486203617/index.html"> Rants </a> <br />  <a href="../C1966536352/index.html"> Software Development </a> <br />  <a href="../C488455530/index.html"> Tips </a> <br /> ';
    document.write(categories); 
}

function getCategoryHorizontalCategories() {
    var horizontalCategories = ' <a href="../C2116391994/index.html"> Apple Bug Friday </a> &nbsp; &nbsp;  <a href="../C399512598/index.html"> D2X-XL </a> &nbsp; &nbsp;  <a href="../C757145247/index.html"> Intarweb </a> &nbsp; &nbsp;  <a href="../C1700219634/index.html"> Publications </a> &nbsp; &nbsp;  <a href="../C486203617/index.html"> Rants </a> &nbsp; &nbsp;  <a href="../C1966536352/index.html"> Software Development </a> &nbsp; &nbsp;  <a href="../C488455530/index.html"> Tips </a> &nbsp; &nbsp; ';
    document.write(horizontalCategories);
}

function getEntryCategories() {
    var categories = ' <a href="../../C2116391994/index.html"> Apple Bug Friday </a> <br />  <a href="../../C399512598/index.html"> D2X-XL </a> <br />  <a href="../../C757145247/index.html"> Intarweb </a> <br />  <a href="../../C1700219634/index.html"> Publications </a> <br />  <a href="../../C486203617/index.html"> Rants </a> <br />  <a href="../../C1966536352/index.html"> Software Development </a> <br />  <a href="../../C488455530/index.html"> Tips </a> <br /> ';
    document.write(categories); 
}

function getEntryHorizontalCategories() {
    var horizontalCategories = ' <a href="../../C2116391994/index.html"> Apple Bug Friday </a> &nbsp; &nbsp;  <a href="../../C399512598/index.html"> D2X-XL </a> &nbsp; &nbsp;  <a href="../../C757145247/index.html"> Intarweb </a> &nbsp; &nbsp;  <a href="../../C1700219634/index.html"> Publications </a> &nbsp; &nbsp;  <a href="../../C486203617/index.html"> Rants </a> &nbsp; &nbsp;  <a href="../../C1966536352/index.html"> Software Development </a> &nbsp; &nbsp;  <a href="../../C488455530/index.html"> Tips </a> &nbsp; &nbsp; ';
    document.write(horizontalCategories);
}

function getArchiveCategories() {
    var categories = '<a href="C2116391994/index.html">Apple Bug Friday</a> <br /><a href="C399512598/index.html">D2X-XL</a> <br /><a href="C757145247/index.html">Intarweb</a> <br /><a href="C1700219634/index.html">Publications</a> <br /><a href="C486203617/index.html">Rants</a> <br /><a href="C1966536352/index.html">Software Development</a> <br /><a href="C488455530/index.html">Tips</a> <br />';
    document.write(categories); 
}

function getArchiveHorizontalCategories() {
    var horizontalCategories = '<a href="C2116391994/index.html">Apple Bug Friday</a> &nbsp; &nbsp;<a href="C399512598/index.html">D2X-XL</a> &nbsp; &nbsp;<a href="C757145247/index.html">Intarweb</a> &nbsp; &nbsp;<a href="C1700219634/index.html">Publications</a> &nbsp; &nbsp;<a href="C486203617/index.html">Rants</a> &nbsp; &nbsp;<a href="C1966536352/index.html">Software Development</a> &nbsp; &nbsp;<a href="C488455530/index.html">Tips</a> &nbsp; &nbsp;';
    document.write(horizontalCategories);
}

function getYearCategories() {
    var categories = '<a href="../C2116391994/index.html">Apple Bug Friday</a> <br /><a href="../C399512598/index.html">D2X-XL</a> <br /><a href="../C757145247/index.html">Intarweb</a> <br /><a href="../C1700219634/index.html">Publications</a> <br /><a href="../C486203617/index.html">Rants</a> <br /><a href="../C1966536352/index.html">Software Development</a> <br /><a href="../C488455530/index.html">Tips</a> <br />';
    document.write(categories); 
}

function getYearHorizontalCategories() {
    var horizontalCategories = '<a href="../C2116391994/index.html">Apple Bug Friday</a> &nbsp; &nbsp;<a href="../C399512598/index.html">D2X-XL</a> &nbsp; &nbsp;<a href="../C757145247/index.html">Intarweb</a> &nbsp; &nbsp;<a href="../C1700219634/index.html">Publications</a> &nbsp; &nbsp;<a href="../C486203617/index.html">Rants</a> &nbsp; &nbsp;<a href="../C1966536352/index.html">Software Development</a> &nbsp; &nbsp;<a href="../C488455530/index.html">Tips</a> &nbsp; &nbsp;';
    document.write(horizontalCategories);
}

function getDayCategories() {
    var categories = '<a href="../../../C2116391994/index.html">Apple Bug Friday</a> <br /><a href="../../../C399512598/index.html">D2X-XL</a> <br /><a href="../../../C757145247/index.html">Intarweb</a> <br /><a href="../../../C1700219634/index.html">Publications</a> <br /><a href="../../../C486203617/index.html">Rants</a> <br /><a href="../../../C1966536352/index.html">Software Development</a> <br /><a href="../../../C488455530/index.html">Tips</a> <br />';
    document.write(categories); 
}

function getDayHorizontalCategories() {
    var horizontalCategories = '<a href="../../../C2116391994/index.html">Apple Bug Friday</a> &nbsp; &nbsp;<a href="../../../C399512598/index.html">D2X-XL</a> &nbsp; &nbsp;<a href="../../../C757145247/index.html">Intarweb</a> &nbsp; &nbsp;<a href="../../../C1700219634/index.html">Publications</a> &nbsp; &nbsp;<a href="../../../C486203617/index.html">Rants</a> &nbsp; &nbsp;<a href="../../../C1966536352/index.html">Software Development</a> &nbsp; &nbsp;<a href="../../../C488455530/index.html">Tips</a> &nbsp; &nbsp;';
    document.write(horizontalCategories);
}

function getUsername() {
    var username = 'Simone Manganelli';
    document.write(username);
}

function getFeedbackLink(entryTitle) {
    var encodedEmail = '&#115;&#105;&#109;&#120;&#064;&#109;&#097;&#099;&#046;&#099;&#111;&#109;';
    
    if(encodedEmail.length > 0) {
        document.write("<a href=\"mailto:" + encodedEmail + "?Subject=Re: " + entryTitle + "\"> Feedback </a> &nbsp;");
    } else {
        document.write("");
    }
}

function writeStyleSheetLinks() {
 if ('Technological Supernova' == 'Technological Supernova') {
    document.write('<link rel="stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-right-nav.css" title="Red Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-left-nav.css" title="Red Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-right-nav.css" title="Blue Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-left-nav.css" title="Blue Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-right-nav.css" title="Green Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-left-nav.css" title="Green Left Nav" />\n');
  } else if ('Technological Supernova' == 'Linkable Supernova') {
    document.write('<link rel="stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-right-nav.css" title="Green Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-left-nav.css" title="Green Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-right-nav.css" title="Red Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-left-nav.css" title="Red Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-right-nav.css" title="Blue Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-left-nav.css" title="Blue Left Nav" />\n');
  } else {
    document.write('<link rel="stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-right-nav.css" title="Blue Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/blue-left-nav.css" title="Blue Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-right-nav.css" title="Red Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/red-left-nav.css" title="Red Left Nav" />\n');
    document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-right-nav.css" title="Green Right Nav" />\n<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/green-left-nav.css" title="Green Left Nav" />\n');
  }
  document.write('<link rel="alternate stylesheet" type="text/css" href="http://homepage.mac.com/simx/stylesheets/halloween-right-nav.css" title="Halloween" />\n');
}

function writeStyleSheetButtonLinks() {
 if ('Technological Supernova' == 'Technological Supernova') {
document.write('<div class="stylesheet_buttons">\n<a href="#" onclick="setActiveStyleSheet(\'Red Right Nav\'); return false;"><img class="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/red-right.png" alt="Red Right Nav" /></a><a href="#" onclick="setActiveStyleSheet(\'Red Left Nav\'); return false;"><img class ="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/red-left.png" alt="Red Left Nav" /></a>\n</div>');
  } else if ('Technological Supernova' == 'Linkable Supernova') {
document.write('<div class="stylesheet_buttons">\n<a href="#" onclick="setActiveStyleSheet(\'Green Right Nav\'); return false;"><img class="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/green-right.png" alt="Green Right Nav" /></a><a href="#" onclick="setActiveStyleSheet(\'Green Left Nav\'); return false;"><img class ="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/green-left.png" alt="Green Left Nav" /></a>\n</div>');
  } else {
document.write('<div class="stylesheet_buttons">\n<a href="#" onclick="setActiveStyleSheet(\'Blue Right Nav\'); return false;"><img class="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/blue-right.png" alt="Blue Right Nav" /></a><a href="#" onclick="setActiveStyleSheet(\'Blue Left Nav\'); return false;"><img class ="stylesheet_button" src="http://homepage.mac.com/simx/stylesheets/blue-left.png" alt="Blue Left Nav" /></a>\n</div>');
}
}

function removeSpaces(aString) {
 var modifiedString = aString.replace(/ /gi,'');
 return modifiedString;
}


// the following functions were created by Paul Sowden
// 
// you can access the full tutorial on JavaScript stylesheet
// switching at http://www.alistapart.com/stories/alternate/
//
// Yay standards!
//
// Modified on 2006-05-05 to accomodate two pages with the
// same JavaScript file (onload and onunload modified)

function setActiveStyleSheet(title) {
  var i, a, main;
  for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
    if(a.getAttribute("rel").indexOf("style") != -1 && a.getAttribute("title")) {
      a.disabled = true;
      if(a.getAttribute("title") == title) a.disabled = false;
    }
  }
}

function getActiveStyleSheet() {
  var i, a;
  for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
    if(a.getAttribute("rel").indexOf("style") != -1 && a.getAttribute("title") && !a.disabled) return a.getAttribute("title");
  }
  return null;
}

function getPreferredStyleSheet() {
  var i, a;
  for(i=0; (a = document.getElementsByTagName("link")[i]); i++) {
    if(a.getAttribute("rel").indexOf("style") != -1
       && a.getAttribute("rel").indexOf("alt") == -1
       && a.getAttribute("title")
       ) return a.getAttribute("title");
  }
  return null;
}

function createCookie(name,value,days) {
  if (days) {
    var date = new Date();
    date.setTime(date.getTime()+(days*24*60*60*1000));
    var expires = "; expires="+date.toGMTString();
  }
  else expires = "";
  document.cookie = name+"="+value+expires+"; path=/";
}

function readCookie(name) {
  var nameEQ = name + "=";
  var ca = document.cookie.split(';');
  for(var i=0;i < ca.length;i++) {
    var c = ca[i];
    while (c.charAt(0)==' ') c = c.substring(1,c.length);
    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
  }
  return null;
}

function writeiTunesWidgetCookie(enabledString) {
 createCookie('myiTunesWidgets',enabledString,365);
}

function enableiTunesWidgets() {
 var widgetDiv = document.getElementById('myiTunesWidgets');
 widgetDiv.style.display = 'inline';
 writeiTunesWidgetCookie('enabled');
 
 var enableButtonDiv = document.getElementById('enableiTunesWidgetsButtonDiv');
 enableButtonDiv.style.display = 'none';
 
 var disableButtonDiv = document.getElementById('disableiTunesWidgetsButtonDiv');
 disableButtonDiv.style.display = 'inline';
}

function disableiTunesWidgets() {
 var widgetDiv = document.getElementById('myiTunesWidgets');
 widgetDiv.style.display = 'none';
 writeiTunesWidgetCookie('disabled');
 
 var enableButtonDiv = document.getElementById('enableiTunesWidgetsButtonDiv');
 enableButtonDiv.style.display = 'inline';
 
 var disableButtonDiv = document.getElementById('disableiTunesWidgetsButtonDiv');
 disableButtonDiv.style.display = 'none';
}

window.onload = function(e) {
  var cookie;
  var curdate = new Date();
  var month = curdate.getMonth();
  var date = curdate.getDate();
  if ((month == 9) && (date == 31)) {
setActiveStyleSheet('Halloween');
} else {
  if (('Technological Supernova' == 'Supernova Emotivo') || ('Technological Supernova' == 'Emotional Supernova')) {
    cookie = readCookie('Stylish Emotions');
  } else if ('Technological Supernova' == 'Technological Supernova') {
    cookie = readCookie('Stylish Technology');
  } else if ('Technological Supernova' == 'Linkable Supernova') {
    cookie = readCookie('Stylish Links');
  }
  var title = cookie ? cookie : getPreferredStyleSheet();
  setActiveStyleSheet(title);
}
}

window.onunload = function(e) {
  var title = getActiveStyleSheet();
 if (title != 'Halloween') {
  if (('Technological Supernova' == 'Supernova Emotivo') || ('Technological Supernova' == 'Emotional Supernova')) {
   createCookie('Stylish Emotions', title, 365);
  } else if ('Technological Supernova' == 'Technological Supernova') {
   createCookie('Stylish Technology', title, 365);
  } else if ('Technological Supernova' == 'Linkable Supernova') {
   createCookie('Stylish Links', title, 365);
  }
 }
}

var cookie = readCookie("style");
var title = cookie ? cookie : getPreferredStyleSheet();
setActiveStyleSheet(title);


// the following are for .mac comments

function onPageLoad()
{
    evalAndIgnoreException('initComments();');
    evalAndIgnoreException('commentLayerLinkAssist();');
    return true;
}

function evalAndIgnoreException(s)
{
  try
  {
    eval(s);
  }
  catch (e)
  {
  }
}

function commentLayerLinkAssist()
{
    if (location.hash == '#comment_layer')
    {
        var node = document.getElementById('comment_layer');
        if (node)
        {
            var offsetY = node.offsetTop;
            while (node.offsetParent != null)
            {
                node = node.offsetParent;
                offsetY = offsetY + node.offsetTop;
            }
            window.scrollTo(0, offsetY - 53); // -53 because of the top banner
        }
    }
}


var time = new Date().getTime();

// Aliases
function initCommentSummary()
{
	initSummaryComments();
}

function insertCommentCountStrings()
{
	initSummaryComments();
}

function initSummaryComments() 
{
	setLocale();
	var commentCount;
	for (var entry in entryURLs) {
		if (entryURLs[entry].comments || entryURLs[entry].count > 0) {
			commentCount = document.getElementById('comments_' + entryURLs[entry].order);
			if (commentCount !== null) {
				commentCount.innerHTML = commentCountString(entryURLs[entry].count);
			} 
			commentCount = null;
		} 
	}
}

function oogity()
{
alert('yes, thats right, oogity!');
}

function OMGWTFBBQITISTOOLATETOWRITEJAVASCRIPT(url)
{
	var location_array;
	if (typeof(fakeURLPathname) == "undefined") {
		location_array = location.pathname.split('/');
	} else {
		location_array = fakeURLPathname.split('/');
	}
	var amended_location_string = '';
	var i = 0;
	var count = location_array.length;
	for (i = 0; i < (count-1); i++) {
		if (location_array[i] != '') amended_location_string = amended_location_string + location_array[i] + '/';
	}
	document.write('<script src="' + 'http://web.mac.com/' + amended_location_string + url + '?wsc=summary.js&ts=' + time + '" type="text/javascript"></script>');
}

function initPersonWhoHasNoNameComments(url) 
{
	setLocale();
	var commentCount;

	var location_array = url.split('/');
	var count = location_array.length;
	if (entryURLs[location_array[count-1]].comments) {
		if (commentCount !== null) {
				document.write('<a href="' + url + '#comments">' + commentCountString(entryURLs[location_array[count-1]].count) + '</a>');
		} 
		commentCount = null;
	}
}





// comments.js

/* Copyright (c) 2006 by Apple Computer, Inc.  All Rights Reserved. */

var commentJavascriptVersion = "$Revision: 1.39 $";
var commentWindow;

// global strings
var commentsAppURL = 'http://www.mac.com/WebObjects/Comments.woa/wa/comment';
var manageCommentsAppURL = 'http://www.mac.com/WebObjects/Comments.woa/wa/manage';
var windowRules = 'menubar=no,resizable=no,height=580,width=435';
var commentsURL;
if (typeof(fakeURLPathname)=="undefined") {
	commentsURL = 'http://web.mac.com' + location.pathname + '?wsc=entry.js&ts=' + new Date().getTime();
} else {
	commentsURL = 'http://web.mac.com' + fakeURLPathname + '?wsc=entry.js&ts=' + new Date().getTime();
}

function data(o)
{
	// there are comments
	comments.read = true;
	comments.update(o);
}

// Load localization
document.write('<script src="http://www.mac.com/1/up/comments/scripts/loc.js" type="text/javascript" charset="utf-8"></script>');

// Load utility objects
document.write('<script src="http://www.mac.com/1/up/comments/scripts/utility.js" type="text/javascript" charset="utf-8"></script>');

// Called from the window.onload method
function initComments()
{
	browser.detect();
	setLocale();
	decorations.init();
	if (commentsActivated) {
		comments.fetch();
	} 
	else {
		decorations.hide('comment_layer'); // commenting never turned on
	}
}

var comments = {

	read: false,
	count: 0,
	canComment: false,
	hasComments: false,
	itemOrder: ['authorblock','dateblock','commenttext','attachments','separator'],
	view : 0,
	
	// fetch comments from iDisk
	fetch: function()
	{
		var c = comments;
		
		// Find and remove JSON loading script element
		var JSONScript = document.getElementById('view_' + c.view);
		var head = document.getElementsByTagName('head')[0];
		if (JSONScript !== null) {
			head.removeChild(JSONScript);
			c.view = c.view + 1;
		}
		
		JSONScript = document.createElement('script');
		
		// Create new JSON script element, new script element will call comments.update()
		JSONScript.setAttribute('id','view_' + c.view);
		if (typeof(fakeURLPathname) == "undefined") {
			JSONScript.setAttribute('src','http://web.mac.com' + location.pathname + '?wsc=entry.js&ts=' + new Date().getTime());
		} else {
			JSONScript.setAttribute('src','http://web.mac.com' + fakeURLPathname + '?wsc=entry.js&ts=' + new Date().getTime());
		}
		JSONScript.setAttribute('type','text/javascript');
		JSONScript.setAttribute('charset','utf-8');
		head.appendChild(JSONScript);
	},
	
	// Callback from JSON result
	update: function(JSONResult)
	{
		var c = comments;
		
		// Update Flags and Counts
	
		// canComment
		if (JSONResult.commentsEnabled == 'true') {
			c.canComment = true;
		} 
		else {
			c.canComment = false;
		}		
		
		// hasComments
		if (JSONResult.items !== null && JSONResult.items.length > 0) {
			c.hasComments = true;
		}
		else {
			c.hasComments = false;
		}
		
		// count
		if (JSONResult.items !== null) {
			c.count = JSONResult.items.length;
		}
		else {
			c.count = 0;
		}
		
		if (!c.canComment && c.count == 0) {
			decorations.hide('comment_layer'); // entries w/o comments created when the blog allowed commenting
		}	
		else if (c.count > 0) {
			c.load(JSONResult.items);
			if (!c.canComment) {
				decorations.hide('comment_footer'); // entries w/comments while the blog allowed commenting
			}
		}
		else {
			decorations.hide('comment_title'); // entry w/o comments, but blog allows commenting
		}
		
		// update page decorations
		decorations.update_count();
		decorations.update_manage_comments();
		decorations.update_post_link();
		
		pngs.fix();
		
	},
	
	// insert comments into page
	load: function(items)
	{
		
		var c = comments;
		var commentlist;
		
		commentlist = document.getElementById('comment_list');

		if (commentlist === null) { return; }
			
		var comment;	
		var id;
		
		for (var i = 0; i < items.length; i ++) {
	
			// remember to replace '-' with '_' and prefix the UUID of the comment so that it's a valid element id.
			id = 'comment_' + items[i].commentID.replace(/\-/g,'_');
		
			// don't reinsert already existing comments
			if(document.getElementById(id) === null) {
		
				comment = document.createElement('div');
				comment.className = 'commentblock';
	
				
				var anchor = document.createElement('a');
				if (anchor != null) { 
					anchor.setAttribute('name',id);
					anchor.setAttribute('id',id);
					comment.appendChild(anchor);
				}
				
				// loop over properties in comment, if a property has a callback function defined, then call it
				for (var j = 0; j < c.itemOrder.length; j++) {
					if (render[c.itemOrder[j]] !== undefined) {
						render[c.itemOrder[j]](comment,items[i]);
					}			
				}
						
				commentlist.appendChild(comment);
				comment = null;
			
			}
			
		}
	
	}
}

var decorations = {
	list: ['count','manage_comments','post_link','comment_layer','comment_footer','comment_title'],
	init: function ()
	{
		var d = decorations;
		
		// loop over properties in decorations
		for (var i = 0; i < d.list.length; i++) {
			d[d.list[i]] = d.collect(d.list[i]);
		}	
	},

	// collect gathers all the placeholders for a placeholder of type name and returns them in the array collection
	collect: function(name)
	{
		var collection = [];
		var e, i = 0;
		
		// look for the base version of the item name # to remove
		e = document.getElementById(name);
		if (e !== null) { collection.push(e); }
		
		// loop over name_N until you cannot find
		e = document.getElementById(name + '_' + i);		
		while (e !== null) {
			collection.push(e);
			i ++;
			e = document.getElementById(name + '_' + i);
		}
		return collection;
	},
	
	update_count: function()
	{
		var d = decorations;
		
		for (var i = 0; i < d.count.length; i ++) {
			if (comments.hasComments) {
			
				d.show('comment_title');
				
				var s = document.createTextNode(commentCountString(comments.count));
				var r = d.count[i].firstChild;
				
				if (d.count[i].hasChildNodes && r != null) {
					d.count[i].replaceChild(s,r);
				}
				else {
					d.count[i].appendChild(s);
				}
				
			} 
		}	
	},
	
	update_manage_comments: function()
	{
		var d = decorations;
		
		for (var i = 0; i < d.manage_comments.length; i ++) {
		
			var r = d.manage_comments[i].firstChild;

			// insert control if none found
			if (comments.hasComments && r == null) {
				var managelink = document.createElement('a');
				var commentcontrolGlyph = document.createElement('img');
				
				// use element's class name to determine which image to use
				switch (d.manage_comments[i].className) {
					case 'light':
						commentcontrolGlyph.src = 'http://www.mac.com/1/up/comments/images/lockIcon_dark.png';
						break;
					case 'dark':
					default:
						commentcontrolGlyph.src = 'http://www.mac.com/1/up/comments/images/lockIcon_light.png';				
				}
				
				commentcontrolGlyph.alt = localeStringForKey('managecomments');
				commentcontrolGlyph.title = localeStringForKey('managecomments');
				commentcontrolGlyph.id = 'manage_comments_icon_' + i;
				managelink.appendChild(commentcontrolGlyph);
				if (typeof(fakeURLPathname) == "undefined") {
					managelink.href = manageCommentsAppURL + '?url=' + encodeURIComponent(decodeURIComponent(location.pathname)); // prevent double encoding
				} else {
					managelink.href = manageCommentsAppURL + '?url=' + encodeURIComponent(decodeURIComponent(fakeURLPathname));
				}

				d.manage_comments[i].appendChild(managelink);
				
				pngs.add('manage_comments_icon_' + i);
				
				managelink = null;				
				commentcontrolGlyph = null;
			}
		}
	},
	
	update_post_link: function()
	{
		var d = decorations;
		
		for (var i = 0; i < d.post_link.length; i ++) {
			
			var r = d.post_link[i].firstChild;
		
			if (comments.canComment && r == null) {
				var commentlink = document.createElement('a');
				var s = document.createTextNode(localeStringForKey('addcomment'));
				commentlink.appendChild(s);
				commentlink.href = '#';
				commentlink.onclick = function() 
				{
					var name;
					var thePathname;
					if (typeof(fakeURLPathname) == "undefined") {
						thePathname = location.pathname;
					} else {
						thePathname = fakeURLPathname;
					}					


					// compute window name from blog entry ID
					var path = thePathname.split('/');
					if (path.length > 0) {
						name = path[path.length - 1];
					}
					else {
						name = 'entry.html';
					}
					name = name.replace('.html','');
					name = 'comment_' + name.replace(/\-/g,'_');
					commentWindow = window.open(commentsAppURL + '?url=' + encodeURIComponent(decodeURIComponent(thePathname)),name,windowRules); // prevent double encoding & clean up window name
					listenForChildWindow(); // start listener
					return false;	
				}
				commentlink.style.fontWeight = 'bold';
				commentlink.title = localeStringForKey('addcommentcaption');
				d.post_link[i].appendChild(commentlink);	
				commentlink = null;
			}
		}
	},
		
	hide: function(name)
	{	
		var d = decorations;
		var set = d[name];
		for (var i = 0; i < set.length; i++) {
			if (set[i] !== null) { set[i].style.display = 'none'; }
		}
	},
	
	show: function(name)
	{
		var d = decorations;
		var set = d[name];
		for (var i = 0; i < set.length; i++) {
			if (set[i] !== null) { set[i].style.display = 'block'; }
		}
	}

};

// Callback Functions For Rendering Comments
var render = {
	commenttext: function(comment,data) 
	{
		var	body = document.createElement('div');
		body.className = 'commenttext';
		body.style.overflow = 'auto';


		commentText = data.body.replace(/\<A href=\"(.*?)\" rel=\"nofollow\"\>(.*?)\<\/A\>/gi,'$2');
		commentText = commentText.replace(/\&lt;img (.*?)\]/gi,'<img $1>');
		commentText = commentText.replace(/\&lt;\/img\&gt;/gi,'</img>');
		commentText = commentText.replace(/\&lt;a (.*?)\&gt;/gi,'<a $1>');
		commentText = commentText.replace(/\&lt;\/a\&gt;/gi,'</a>');
		commentText = commentText.replace(/\&lt;u\&gt;/gi,'<u>');
		commentText = commentText.replace(/\&lt;\/u\&gt;/gi,'</u>');
		commentText = commentText.replace(/\&lt;b\&gt;/gi,'<b>');
		commentText = commentText.replace(/\&lt;\/b\&gt;/gi,'</b>');
		commentText = commentText.replace(/\&lt;i\&gt;/gi,'<i>');
		commentText = commentText.replace(/\&lt;\/i\&gt;/gi,'</i>');
		commentText = commentText.replace(/\&lt;blockquote\&gt;/gi,'<blockquote>');
		commentText = commentText.replace(/\&lt;\/blockquote\&gt;/gi,'</blockquote>');
		commentText = commentText.replace(/\&lt;pre\&gt;/gi,'<pre>');
		commentText = commentText.replace(/\&lt;\/pre\&gt;/gi,'</pre>');
		commentText = commentText.replace(/\&lt;code\&gt;/gi,'<code>');
		commentText = commentText.replace(/\&lt;\/code\&gt;/gi,'</code>');
		commentText = commentText.replace(/\&lt;q\&gt;/gi,'<q>');
		commentText = commentText.replace(/\&lt;\/q\&gt;/gi,'</q>');
		commentText = commentText.replace(/\n\&lt;p\&gt;/gi,'<p>');
		commentText = commentText.replace(/\&lt;p\&gt;/gi,'<p>');
		commentText = commentText.replace(/\&lt;\/p\&gt;\n/gi,'</p>');
		commentText = commentText.replace(/\&lt;\/p\&gt;/gi,'</p>');
		commentText = commentText.replace(/\&lt;em\&gt;/gi,'<em>');
		commentText = commentText.replace(/\&lt;\/em\&gt;/gi,'</em>');

		commentText = commentText.replace(/\[img (.*?)\]/gi,'<img $1>');
		commentText = commentText.replace(/\[\/img\]/gi,'</img>');
		commentText = commentText.replace(/\[a (.*?)\]/gi,'<a $1>');
		commentText = commentText.replace(/\[\/a\]/gi,'</a>');
		commentText = commentText.replace(/\[u\]/gi,'<u>');
		commentText = commentText.replace(/\[\/u\]/gi,'</u>');
		commentText = commentText.replace(/\[b\]/gi,'<b>');
		commentText = commentText.replace(/\[\/b\]/gi,'</b>');
		commentText = commentText.replace(/\[i\]/gi,'<i>');
		commentText = commentText.replace(/\[\/i\]/gi,'</i>');
		commentText = commentText.replace(/\[blockquote\]/gi,'<blockquote>');
		commentText = commentText.replace(/\[\/blockquote\]/gi,'</blockquote>');
		commentText = commentText.replace(/\[pre\]/gi,'<pre>');
		commentText = commentText.replace(/\[\/pre\]/gi,'</pre>');
		commentText = commentText.replace(/\[code\]/gi,'<code>');
		commentText = commentText.replace(/\[\/code\]/gi,'</code>');
		commentText = commentText.replace(/\[q\]/gi,'<q>');
		commentText = commentText.replace(/\[\/q\]/gi,'</q>');
		commentText = commentText.replace(/\n\[p\]/gi,'<p>');
		commentText = commentText.replace(/\[p\]/gi,'<p>');
		commentText = commentText.replace(/\[\/p\]\n/gi,'</p>');
		commentText = commentText.replace(/\[\/p\]/gi,'</p>');
		commentText = commentText.replace(/\[em\]/gi,'<p>');
		commentText = commentText.replace(/\[\/em\]/gi,'</p>');

		commentText = commentText.replace(/<br><p>/gi,'<p>');
		commentText = commentText.replace(/<\/p><br>/gi,'</p>');


		commentText = commentText.replace(/>\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/devil.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(-.-\)/g,'<img src="http://homepage.mac.com/simx/smilies/sleeping.png" style="margin: 0px;">');
		commentText = commentText.replace(/-_-/g,'<img src="http://homepage.mac.com/simx/smilies/sleeping.png" style="margin: 0px;">');
		commentText = commentText.replace(/-.-/g,'<img src="http://homepage.mac.com/simx/smilies/sleeping.png" style="margin: 0px;">');
		commentText = commentText.replace(/>-\)/g,'<img src="http://homepage.mac.com/simx/smilies/alien.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(->\)/g,'<img src="http://homepage.mac.com/simx/smilies/arrow.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(pirate\)/g,'<img src="http://homepage.mac.com/simx/smilies/chris.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:pirate\:/g,'<img src="http://homepage.mac.com/simx/smilies/chris.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(phone\)/g,'<img src="http://homepage.mac.com/simx/smilies/phone.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:phone\:/g,'<img src="http://homepage.mac.com/simx/smilies/phone.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(santa\)/g,'<img src="http://homepage.mac.com/simx/smilies/santa.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:santa\:/g,'<img src="http://homepage.mac.com/simx/smilies/santa.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(sheep\)/g,'<img src="http://homepage.mac.com/simx/smilies/shaun.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:sheep\:/g,'<img src="http://homepage.mac.com/simx/smilies/shaun.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(shaun\)/g,'<img src="http://homepage.mac.com/simx/smilies/shaun.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:shaun\:/g,'<img src="http://homepage.mac.com/simx/smilies/shaun.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(\*\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/shuriken.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(sorcerer\)/g,'<img src="http://homepage.mac.com/simx/smilies/sorcerer.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:sorcerer\:/g,'<img src="http://homepage.mac.com/simx/smilies/sorcerer.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(zorro\)/g,'<img src="http://homepage.mac.com/simx/smilies/zorro.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:zorro\:/g,'<img src="http://homepage.mac.com/simx/smilies/zorro.png" style="margin: 0px;">');
		commentText = commentText.replace(/o_O/g,'<img src="http://homepage.mac.com/simx/smilies/blink.png" style="margin: 0px;">');
		commentText = commentText.replace(/O_o/g,'<img src="http://homepage.mac.com/simx/smilies/blink.png" style="margin: 0px;">');
		commentText = commentText.replace(/o_0/g,'<img src="http://homepage.mac.com/simx/smilies/blink.png" style="margin: 0px;">');
		commentText = commentText.replace(/0_o/g,'<img src="http://homepage.mac.com/simx/smilies/blink.png" style="margin: 0px;">');
		commentText = commentText.replace(/>\:\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/>\:-\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/X\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/X-\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/x\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/x-\(/g,'<img src="http://homepage.mac.com/simx/smilies/angry.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\">/g,'<img src="http://homepage.mac.com/simx/smilies/blushing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\*>/g,'<img src="http://homepage.mac.com/simx/smilies/blushing.png" style="margin: 0px;">');
		commentText = commentText.replace(/B\)/g,'<img src="http://homepage.mac.com/simx/smilies/cool.png" style="margin: 0px;">');
		commentText = commentText.replace(/B-\)/g,'<img src="http://homepage.mac.com/simx/smilies/cool.png" style="margin: 0px;">');
		commentText = commentText.replace(/8\)/g,'<img src="http://homepage.mac.com/simx/smilies/cool.png" style="margin: 0px;">');
		commentText = commentText.replace(/8-\)/g,'<img src="http://homepage.mac.com/simx/smilies/cool.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\'\(/g,'<img src="http://homepage.mac.com/simx/smilies/crying.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-z/g,'<img src="http://homepage.mac.com/simx/smilies/dizzy.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:z/g,'<img src="http://homepage.mac.com/simx/smilies/dizzy.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\\/g,'<img src="http://homepage.mac.com/simx/smilies/ermm.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\\/g,'<img src="http://homepage.mac.com/simx/smilies/ermm.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\//g,'<img src="http://homepage.mac.com/simx/smilies/ermm.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(ph33r\)/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:ph33r\:/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(ph34r\)/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:ph34r\:/g,'<img src="http://homepage.mac.com/simx/smilies/fear.png" style="margin: 0px;">');
		commentText = commentText.replace(/<_</g,'<img src="http://homepage.mac.com/simx/smilies/getlost.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-D/g,'<img src="http://homepage.mac.com/simx/smilies/grin.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:D/g,'<img src="http://homepage.mac.com/simx/smilies/grin.png" style="margin: 0px;">');
		commentText = commentText.replace(/\^_\^/g,'<img src="http://homepage.mac.com/simx/smilies/happy.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\)\)/g,'<img src="http://homepage.mac.com/simx/smilies/happy.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\)\)/g,'<img src="http://homepage.mac.com/simx/smilies/happy.png" style="margin: 0px;">');
		commentText = commentText.replace(/O\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/o\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/o\:-\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/O\:-\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/0\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/0\:-\)/g,'<img src="http://homepage.mac.com/simx/smilies/innocent.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\*/g,'<img src="http://homepage.mac.com/simx/smilies/kiss.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\*/g,'<img src="http://homepage.mac.com/simx/smilies/kiss.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(LOL\)/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:LOL\:/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/LOL/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(lol\)/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:lol\:/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/lol/g,'<img src="http://homepage.mac.com/simx/smilies/laughing.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\|/g,'<img src="http://homepage.mac.com/simx/smilies/noexpression.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\|/g,'<img src="http://homepage.mac.com/simx/smilies/noexpression.png" style="margin: 0px;">');
		commentText = commentText.replace(/>_</g,'<img src="http://homepage.mac.com/simx/smilies/pinch.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\(/g,'<img src="http://homepage.mac.com/simx/smilies/sad.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\(/g,'<img src="http://homepage.mac.com/simx/smilies/sad.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-O/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:O/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-o/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:o/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-0/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:0/g,'<img src="http://homepage.mac.com/simx/smilies/shocked.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:&/g,'<img src="http://homepage.mac.com/simx/smilies/sick.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-&/g,'<img src="http://homepage.mac.com/simx/smilies/sick.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\)/g,'<img src="http://homepage.mac.com/simx/smilies/smile.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\)/g,'<img src="http://homepage.mac.com/simx/smilies/smile.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(teehee\)/g,'<img src="http://homepage.mac.com/simx/smilies/stuart.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:teehee\:/g,'<img src="http://homepage.mac.com/simx/smilies/stuart.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:P/g,'<img src="http://homepage.mac.com/simx/smilies/tongue.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-P/g,'<img src="http://homepage.mac.com/simx/smilies/tongue.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:p/g,'<img src="http://homepage.mac.com/simx/smilies/tongue.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-p/g,'<img src="http://homepage.mac.com/simx/smilies/tongue.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\]/g,'<img src="http://homepage.mac.com/simx/smilies/turned.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:s/g,'<img src="http://homepage.mac.com/simx/smilies/unsure.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-S/g,'<img src="http://homepage.mac.com/simx/smilies/unsure.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-s/g,'<img src="http://homepage.mac.com/simx/smilies/unsure.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:S/g,'<img src="http://homepage.mac.com/simx/smilies/unsure.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(woot\)/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(w00t\)/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(wOOt\)/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:woot\:/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:w00t\:/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:wOOt\:/g,'<img src="http://homepage.mac.com/simx/smilies/w00t.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:\?/g,'<img src="http://homepage.mac.com/simx/smilies/wassat.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-\"/g,'<img src="http://homepage.mac.com/simx/smilies/whistling.png" style="margin: 0px;">');
		commentText = commentText.replace(/;\)/g,'<img src="http://homepage.mac.com/simx/smilies/wink.png" style="margin: 0px;">');
		commentText = commentText.replace(/;-\)/g,'<img src="http://homepage.mac.com/simx/smilies/wink.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:x/g,'<img src="http://homepage.mac.com/simx/smilies/wub.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:X/g,'<img src="http://homepage.mac.com/simx/smilies/wub.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-X/g,'<img src="http://homepage.mac.com/simx/smilies/wub.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:-x/g,'<img src="http://homepage.mac.com/simx/smilies/wub.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(cat\)/g,'<img src="http://homepage.mac.com/simx/smilies/cat.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:cat\:/g,'<img src="http://homepage.mac.com/simx/smilies/cat.png" style="margin: 0px;">');
		commentText = commentText.replace(/\%\%-/g,'<img src="http://homepage.mac.com/simx/smilies/clover.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(!\)/g,'<img src="http://homepage.mac.com/simx/smilies/excl.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(flowers\)/g,'<img src="http://homepage.mac.com/simx/smilies/flowers.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:flowers\:/g,'<img src="http://homepage.mac.com/simx/smilies/flowers.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(heart\)/g,'<img src="http://homepage.mac.com/simx/smilies/heart.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:heart\:/g,'<img src="http://homepage.mac.com/simx/smilies/heart.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(homestar\)/g,'<img src="http://homepage.mac.com/simx/smilies/homestar.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:homestar\:/g,'<img src="http://homepage.mac.com/simx/smilies/homestar.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(nuke\)/g,'<img src="http://homepage.mac.com/simx/smilies/nuke.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:nuke\:/g,'<img src="http://homepage.mac.com/simx/smilies/nuke.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(geek\)/g,'<img src="http://homepage.mac.com/simx/smilies/online2long.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:geek\:/g,'<img src="http://homepage.mac.com/simx/smilies/online2long.png" style="margin: 0px;">');
		commentText = commentText.replace(/\:rolleyes\:/g,'<img src="http://homepage.mac.com/simx/smilies/rolleyes.png" style="margin: 0px;">');
		commentText = commentText.replace(/\(rolleyes\)/g,'<img src="http://homepage.mac.com/simx/smilies/rolleyes.png" style="margin: 0px;">');
		body.innerHTML = commentText.replace(/\r\n/g,'<br />');

		comment.appendChild(body);
		body = null;	
	},
	authorblock: function(comment,data)
	{
		if (data.authorID !== '') {
			var author = document.createElement('div');
			var authorID = document.createTextNode(data.authorID);
			var fn = null;
			author.className = 'authorblock vcard';
			var url = this.authorurl(data);
			if (url != null) {
				url.appendChild(authorID);
				author.appendChild(url);
			} 
			else {
				fn = document.createElement('span');
				fn.className = 'fn';
				fn.appendChild(authorID);
				author.appendChild(fn);
			}
			comment.appendChild(author);
			author = null;
		} 
		else {
			return;
		}
	},
	authorurl: function(data)
	{
		var author = null;
		
		if (data.authorURL !== undefined && data.authorURL !== '') {
			author = document.createElement('a');
			author.setAttribute('href', data.authorURL);
		} 
		else {
			return null;
		}
		
		if (data.authorURL.indexOf('mailto:') > -1) {
			author.className = 'email fn';
		}			
		else if (data.authorURL.indexOf('http://') > -1) {
			author.className = 'url fn';
		}
		else {
			author.className = 'fn';
		}
		
		return author;
	},
	dateblock: function(comment,data)
	{
		var date = document.createElement('div');
		date.className = 'dateblock';
		date.innerHTML = data.createDate;
		comment.appendChild(date);
		date = null;	
	},
	attachments: function(comment,data)
	{
		
		var attachment;
		var preview;
		var link;
		var desc;
		
		if (data.attachments === undefined) { return; }
		
		for (var i = 0; i < data.attachments.length; i++) {
		
			// container
			attachment = document.createElement('div');
			
			// thumbnail w/link
			link = document.createElement('a');
			link.title = data.attachments[i].mimetype;
			if (typeof(fakeURLPathname) == "undefined") {
				link.href = location.pathname + data.attachments[i].urlDownload;
			} else {
				link.href = fakeURLPathname + data.attachments[i].urlDownload;
			}
			
			preview = document.createElement('img');
			preview.id = 'attachment_' + data.commentID.replace(/\-/g,'_') + '_' + i;
			
			// deal with multiple definitions of thumbnail here
			if (data.attachments[i].urlPreview !== undefined) {
				preview.src = data.attachments[i].urlPreview;
			} 
			else if (data.attachments[i].previewUrl !== undefined) {
				preview.src = data.attachments[i].previewUrl;			
			}
			else {
				preview.src = 'http://www.mac.com/1/up/comments/images/attach_generic_big.png';
			}
			link.appendChild(preview);
			attachment.appendChild(link);
		
			// handle image v. other attachment
			if (!this.isImage(data.attachments[i].mimetype)) {
			
				var space = document.createTextNode('\xA0');
				attachment.appendChild(space);
				space = null;
			
				desc = document.createElement('a');
				desc.className = 'description';
				if (typeof(fakeURLPathname) == "undefined") {
					desc.href = location.pathname + data.attachments[i].urlDownload;
				} else {
					desc.href = fakeURLPathname + data.attachments[i].urlDownload;
				}
				

				if (data.attachments[i].displayname !== undefined) {
					desc.innerHTML = this.formatDisplayName(data.attachments[i].displayname,data.attachments[i].size);
				} 
				else {
					desc.innerHTML = this.formatDisplayName(data.attachments[i].filename,data.attachments[i].size);				
				}
				attachment.className = 'fileattachment';
				pngs.add(preview.id);				
				attachment.appendChild(desc);
			}
			else {
				attachment.className = 'imageblock';			
			}

			comment.appendChild(attachment);
			
			// cleanup 
			attachment = null;
			preview = null;
			link = null;
			desc = null;
		}
	},
	separator: function(comment)
	{
		var separator = document.createElement('div');
		separator.className = 'separator';
		separator.innerHTML = '&nbsp;';
		comment.appendChild(separator);
		separator = null;	
	},
	
	bytesToString: function(str)
	{
		var bytes = Number(str);
		
		if (bytes < 1024) {
			return localeStringForKey('bytes', bytes.toLocaleString());
		}
		else if (bytes < 1048756) {
			var kb = bytes / 1024.0;
			return localeStringForKey('KB', Number(kb.toFixed(1)).toLocaleString());
		}
		else if (bytes < 1073741824) {
			var mb = bytes / 1048756.0
			return localeStringForKey('MB', Number(mb.toFixed(1)).toLocaleString());
		}
		else {
			var gb = bytes / 1073741824.0;
			return localeStringForKey('GB', Number(gb.toFixed(1)).toLocaleString());
		}	
	},
	
	isImage: function(mimetype)
	{
		switch (mimetype.toLowerCase()) {
			case 'image/gif' :
			case 'image/jpg' :
			case 'image/jpeg':
			case 'image/pjpeg':
				return true;
			default:
				return false;
		}
	},
	
	formatDisplayName: function(displayname,size)
	{
		return displayname + '&#160;&#160;&#160;' + this.bytesToString(size);
	}
};

// Listen for the child comment entry window to close, then reload yourself.
function listenForChildWindow()
{
	if (!browser.safari && commentWindow.closed) {
		comments.fetch();
		commentWindow = null; // gc
	} 
	else if (browser.safari && commentWindow.name == 'canreload') {
		comments.fetch();
	} 
	else {
		setTimeout(listenForChildWindow,500);
	}
}